.hero {
  background: linear-gradient(135deg, #021027 0%, #004477 0%, #007953 90%);
  /* más espacio vertical para que el gradiente sea más alto */
  padding: 36px var(--espaciado-lg) 18px;
  min-height: 20px;
  text-align: center;
  color: white;
  overflow: hidden;
  flex-shrink: 0;

}

.hero__content {
  max-width: 1200px;
  margin: 0 auto;
  position: relative; /* ya existe en el fichero, reafirmar contexto para los elementos absolutos */
}

.hero__title {
  font-size: var(--tamano-titulo-h1);
  text-shadow: 0 2px 16px rgba(0, 0, 0, 0.2);
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
  opacity: 0;
  animation: fadeUp 0.8s ease-out 0.3s forwards;
}

.hero__subtitle {
  font-size: 2.5rem;
  /* Usar Audiowide para el subtítulo */
  font-family: "Audiowide", sans-serif;
  color: rgba(255, 255, 255, 0.9);
  margin-top: var(--espaciado-xs);
  opacity: 0;
  animation: fadeUp 0.8s ease-out 0.5s forwards;
}

/* Líneas animadas dentro del hero (aparecen y crecen horizontalmente desde el centro hacia los lados) */
.hero__line {
  position: absolute;
  left: 50%;
  transform: translateX(-50%) scaleX(0);
  transform-origin: center;
  height: 3px;
  border-radius: 2px;
  background: white;
  opacity: 0;
  /* transición: más lenta y sincronizada (ambas líneas crecen al mismo tiempo) */
  transition: transform 2.0s cubic-bezier(.16,0.85,0.25,1), opacity 0.7s ease;
  will-change: transform, opacity;
  pointer-events: none;
}

/* línea superior (más larga) */
.hero__line--top {
  top: -8px;           /* menos offset para reducir espacio total del hero */
  width: 60%;
}

/* línea inferior (más corta) */
.hero__line--bottom {
  bottom: -6px;        /* acercar la línea inferior al contenido, menos hueco abajo */
  width: 30%;
}

/* Estado "loaded": mostrar y expandir las líneas */
.home-page.loaded .hero__line {
  opacity: 1;
  transform: translateX(-50%) scaleX(1);
}

/* Aparecer del título y subtítulo (override: transiciones sincronizadas con las líneas) */
.hero__title--appear,
.hero__subtitle--appear {
  /* estado inicial: invisible y ligeramente desplazado hacia abajo.
     Si ya tienes animaciones previas, estas propiedades serán sobreescritas
     cuando .home-page.loaded esté presente. */
  opacity: 0;
  transform: translateY(12px);
  transition: transform 1.1s cubic-bezier(.16,0.85,0.25,1), opacity 0.9s ease;
  will-change: transform, opacity;
}

/* Cuando la página marca `loaded`, hacemos visible y regresamos a su posición */
.home-page.loaded .hero__title--appear,
.home-page.loaded .hero__subtitle--appear {
  opacity: 1;
  transform: translateY(0);
}

/* Opcional: escalonar ligeramente el subtitle para sensación más natural (muy sutil) */
.home-page.loaded .hero__subtitle--appear {
  transition-delay: 0.06s; /* ambas siguen sincronizadas pero Subtitle llega un poquito después */
}

/* --- Estilos Específicos para la Página de Inicio (Home.js) --- */
.home-page {
  display: flex;
  flex-direction: column;
  height: calc(91vh - 80px);
}

.home-page .main-content-area {
  padding: 0;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.actions-section {
  background-color: var(--color-superficie);
  padding: var(--espaciado-xl) var(--espaciado-lg);
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--espaciado-lg);
  flex-wrap: nowrap;       /* no permitir salto a la siguiente línea */
  overflow-x: auto;       /* si no caben, permitir scroll horizontal */
  -webkit-overflow-scrolling: touch;
  flex-grow: 1;
}

/* --- Estilos Específicos para la Página de Configuración --- */
.config-page {
  display: flex;
  padding: 0;
}

.config-sidebar {
  width: 320px;
  flex-shrink: 0;
  background-color: var(--color-superficie);
  border-right: 1px solid var(--color-borde);
  min-height: calc(91vh - 80px);
}

.config-main-content {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}

.content-wrapper {
  animation: fadeUp 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.content-wrapper--plain {
  background: none;
  border: none;
  box-shadow: none;
  padding: 0;
}

.config-main-content .hero {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.config-main-content .hero__content::before {
  width: 80%;
}
.config-main-content .hero__content::after {
  width: 50%;
}

/* --- Estilos para el menú de acordeón en Configuración --- */
.config-menu-item {
  border-bottom: 1px solid var(--color-borde);
}

.config-menu-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: var(--espaciado-md) var(--espaciado-lg);
  background: none;
  border: none;
  cursor: pointer;
  text-align: left;
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-texto-secundario);
  transition: var(--transicion-rapida);
}

.config-menu-header:hover {
  background-color: var(--color-primario);
  color: var(--color-superficie);
}

.config-menu-item.module-active .config-menu-header {
  background-color: var(--color-primario);
  color: var(--color-superficie);
}

.config-menu-arrow {
  transition: transform 0.3s ease;
}

.config-menu-arrow.open {
  transform: rotate(180deg);
}

.config-submenu {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease-in-out;
}

.config-submenu.open {
  max-height: 500px;
}

.config-submenu-link {
  display: block;
  padding: var(--espaciado-sm) var(--espaciado-lg) var(--espaciado-sm) 3rem;
  color: var(--color-primario);
  text-decoration: none;
  transition: var(--transicion-rapida);
}

.config-submenu-link:hover,
.config-submenu-link.active {
  background-color: #e6f2ef;
  color: var(--color-primario-hover);
  font-weight: 700;
}

/* --- Estilos para el Editor Masivo --- */
.editor-masivo-container {
  padding: var(--espaciado-xl);
}

.resultados-editor {
  margin-top: var(--espaciado-xl);
  background-color: var(--color-superficie);
  border-radius: var(--radio-borde);
  padding: var(--espaciado-xl);
  box-shadow: var(--sombra-caja);
  border: 1px solid var(--color-borde);
}

.editor-top-actions {
  display: flex;
  justify-content: flex-start; /* Alinea los botones a la izquierda */
  gap: var(--espaciado-md);
  margin-bottom: var(--espaciado-xl);
}

.editor-panel {
  background-color: var(--color-fondo);
  border: 1px solid var(--color-borde);
  border-radius: var(--radio-borde);
  padding: var(--espaciado-lg);
  margin-bottom: var(--espaciado-xl);
  display: flex;
  flex-direction: column;
  gap: var(--espaciado-lg);
}

.editor-panel__actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--espaciado-md);
  padding-top: var(--espaciado-lg);
  border-top: 1px solid var(--color-borde);
}

/* Evitar solapamiento: cada campo de edición masiva muestra label a la izquierda y control a la derecha */
.bulk-edit-controls {
/* mantener layout en filas con wrap y separación */
display: flex !important;
flex-wrap: wrap !important;
gap: 1rem !important;
align-items: flex-start !important;
width: 100%;
box-sizing: border-box;
}

/* Cada campo es una caja independiente: evita que su contenido sea invadido por vecinos */
.bulk-edit-field {
display: flex !important;
flex-direction: row !important;
align-items: center !important;
justify-content: flex-start !important;
gap: 1rem !important;
position: relative !important;
box-sizing: border-box !important;
min-width: 280px !important;      /* fuerza ancho mínimo razonable */
flex: 0 0 auto !important;        /* no permitir encoger para evitar solapamiento */
padding: 6px 8px !important;      /* separar visualmente del vecino */
min-height: 44px !important;      /* evitar que elementos se sobrepongan verticalmente */
background: transparent !important; /* no ocultar fondo por si hay overlays */
overflow: visible !important;     /* permitir que paneles se superpongan sin cortar */
/* añadir espacio a la derecha entre campos vecinos */
margin-right: 0.6rem !important; /* separación extra entre cajas para evitar solapes */
box-sizing: border-box !important;
}

/* Reservar espacio interior al input/trigger para que no llegue hasta el borde derecho */
.bulk-edit-field .form__input,
.bulk-edit-field .custom-select__trigger,
.resultados-editor .bulk-edit-field .form__input,
.resultados-editor .bulk-edit-field .custom-select__trigger {
/* mantener padding lateral existente y añadir más a la derecha */
padding-left: 10px !important;
padding-right: 20px !important; /* espacio extra para evitar que la label de la siguiente columna se superponga */
box-sizing: border-box !important;
}

/* El contenedor del control deja un pequeño padding derecho para separar visualmente la siguiente label */
.bulk-edit-field .bulk-edit-control {
/* ...existing declarations... */
padding-right: 0.6rem !important;
overflow: visible !important; /* permitir que paneles se muestren sin cortar */
}

/* Si el input/trigger incluye un icono al final, evitar que quede encima de la label vecina */
.bulk-edit-field .custom-select__trigger .chevron,
.bulk-edit-field .form__input .suffix-icon {
margin-left: 8px !important;
}

/* En desktop (más espacio) aumentar ligeramente la separación entre campos */
@media (min-width: 1024px) {
.bulk-edit-controls { gap: 1.1rem !important; }
.bulk-edit-field { margin-right: 0.8rem !important; }
}

/* --- Estilos para el Editor Masivo --- */
.editor-masivo-container {
  padding: var(--espaciado-xl);
}

.resultados-editor {
  margin-top: var(--espaciado-xl);
  background-color: var(--color-superficie);
  border-radius: var(--radio-borde);
  padding: var(--espaciado-xl);
  box-shadow: var(--sombra-caja);
  border: 1px solid var(--color-borde);
}

.editor-top-actions {
  display: flex;
  justify-content: flex-start; /* Alinea los botones a la izquierda */
  gap: var(--espaciado-md);
  margin-bottom: var(--espaciado-xl);
}

.editor-panel {
  background-color: var(--color-fondo);
  border: 1px solid var(--color-borde);
  border-radius: var(--radio-borde);
  padding: var(--espaciado-lg);
  margin-bottom: var(--espaciado-xl);
  display: flex;
  flex-direction: column;
  gap: var(--espaciado-lg);
}

.editor-panel__actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--espaciado-md);
  padding-top: var(--espaciado-lg);
  border-top: 1px solid var(--color-borde);
}

/* =====> ACTIVADOR DE ANIMACIÓN PARA LOS BOTONES <===== */
.home-page.loaded .action-button {
  opacity: 1;
  transform: translateY(0);
}

/* Clase para aplicar la tipografía Audiowide (usar desde el HTML/JS con class="audiowide-regular") */
.audiowide-regular {
  font-family: "Audiowide", sans-serif;
  font-weight: 400;
  font-style: normal;
  /* Ajustes opcionales para que combine con hero__title */
  letter-spacing: 0.02em;
  line-height: 1;
}
/* Aplicar Audiowide también al subtítulo cuando se le asigne la clase */
.hero__subtitle.audiowide-regular {
  font-family: "Audiowide", sans-serif;
  font-weight: 400;
  font-style: normal;
  letter-spacing: 0.01em;
  line-height: 1.05;
}

/* Estilos compartidos para checkboxes del filtro y los checkboxes de la tabla */
.custom-select__option input[type="checkbox"],
.filter-checkbox {
  width: 18px;
  height: 18px;
  margin: 0 0.6rem 0 0;
  vertical-align: middle;
  cursor: pointer;
  border-radius: 4px;
  /* color del check/indicador en navegadores modernos */
  accent-color: var(--color-primario);
  /* fallback visual para navegadores sin accent-color */
  background-color: #fff;
  border: 1px solid var(--color-borde);
  box-shadow: inset 0 0 0 0 rgba(0,0,0,0.05);
  transition: background-color 0.12s ease, border-color 0.12s ease, transform 0.06s ease;
}

/* Cuando esté checked, reforzamos fondo y borde para que destaque */
.custom-select__option input[type="checkbox"]:checked,
.filter-checkbox:checked {
  background-color: var(--color-primario);
  border-color: var(--color-primario);
  color: #fff;
}

/* Hover/Focus states */
.custom-select__option input[type="checkbox"]:hover,
.filter-checkbox:hover,
.custom-select__option input[type="checkbox"]:focus,
.filter-checkbox:focus {
  transform: translateY(-1px);
  outline: none;
  border-color: var(--color-primario-hover);
}

/* Alineación en tablas: asegurar espaciado correcto */
.table input.filter-checkbox {
  margin: 0;
}

/* Ajustes: campos más anchos y letra más pequeña para formularios y tablas */

/* Reduce ligeramente la tipografía base de campos y etiquetas de formulario */
.form__label {
  font-size: 0.88rem; /* antes ~1rem */
  font-weight: 600;
  line-height: 1.1;
}

/* Entradas y triggers ocupan todo el ancho de su contenedor y fuente reducida */
.form__input,
.custom-select__trigger {
  width: 100%;
  font-size: 0.88rem;
  padding: 8px 10px;
  box-sizing: border-box;
}

/* Asegurar que los triggers de custom-select se comporten como inputs de ancho completo */
.custom-select {
  min-width: 0; /* permitir que el contenedor se reduzca si es necesario; los triggers llenarán su celda */
}
.custom-select .custom-select__trigger {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Formularios grid: cada grupo ocupará su celda, inputs llenarán esa celda */
.form__group {
  width: 100%;
}

/* Si hay forms con clase grid-form, forzar inputs a ocupar 100% de la celda */
.grid-form .form__group .form__input {
  width: 100%;
}

/* Scoped table styles: aplicar únicamente a la tabla dentro de resultados-editor */
.resultados-editor .table th,
.resultados-editor .table td {
  font-size: 0.82rem; /* bajado desde 0.85rem */
  padding: 6px 10px;
  text-align: center;
  vertical-align: middle;
}

/* Aumentar ancho de columnas de datos en la tabla de resultados (scope) */
.resultados-editor .table {
  width: 100%;
  table-layout: auto;
  border-collapse: collapse;
}

/* checkbox (col 1) y índice (col 2) compactos (scope) */
.resultados-editor .table th:nth-child(1),
.resultados-editor .table td:nth-child(1),
.resultados-editor .table th:nth-child(2),
.resultados-editor .table td:nth-child(2) {
  white-space: nowrap;
  width: 48px;
  min-width: 60px;
  max-width: 70px;
  text-align: center;
}

/* Todas las columnas de datos (a partir de la 3) más anchas (scope) */
.resultados-editor .table th:nth-child(n+3),
.resultados-editor .table td:nth-child(n+3) {
  min-width: 160px;
  max-width: 420px;
  word-break: break-word;
}

/* Columna "Link" (última columna) y su botón (scope) */
.resultados-editor .table th:nth-child(20),
.resultados-editor .table td:nth-child(20) {
  min-width: 80px;
  max-width: 140px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}
.resultados-editor .table td:nth-child(20) .btn-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 4px;
  margin: 0 auto;
  border-radius: 50%;
  transition: background-color 0.12s ease, transform 0.08s ease;
  background: transparent;
  border: none;
  cursor: pointer;
}
.resultados-editor .table td:nth-child(20) .btn-icon svg,
.resultados-editor .table td:nth-child(20) .btn-icon i {
  width: 18px;
  height: 18px;
  display: block;
}
.resultados-editor .table td:nth-child(20) .btn-icon:hover {
  background: var(--color-primario);
  transform: translateY(-1px);
}
.resultados-editor .table td:nth-child(20) .btn-icon:hover svg,
.resultados-editor .table td:nth-child(20) .btn-icon:hover i {
  color: #fff;
}

/* VLANs y columnas específicas (scope) */
.resultados-editor .table th:nth-child(6),
.resultados-editor .table td:nth-child(6),
.resultados-editor .table th:nth-child(8),
.resultados-editor .table td:nth-child(8) {
  min-width: 90px;
  max-width: 130px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}

/* Columna "Estatus" y "Tipo" (scope) */
.resultados-editor .table th:nth-child(18),
.resultados-editor .table td:nth-child(18) {
  min-width: 100px;
  max-width: 160px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}
.resultados-editor .table th:nth-child(4),
.resultados-editor .table td:nth-child(4) {
  min-width: 80px;
  max-width: 110px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}

/* Si la tabla es más ancha que su contenedor, permitir scroll horizontal (scope) */
.resultados-editor .table-container {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* Ajustes responsivos (scope) */
@media (max-width: 800px) {
  .resultados-editor .table th:nth-child(n+3),
  .resultados-editor .table td:nth-child(n+3) {
    min-width: 120px;
  }
  .resultados-editor .table th:nth-child(6),
  .resultados-editor .table td:nth-child(6),
  .resultados-editor .table th:nth-child(8),
  .resultados-editor .table td:nth-child(8) {
    min-width: 70px;
    max-width: 120px;
  }
  .resultados-editor .table th:nth-child(18),
  .resultados-editor .table td:nth-child(18) {
    min-width: 90px;
  }
  .resultados-editor .table th:nth-child(4),
  .resultados-editor .table td:nth-child(4) {
    min-width: 70px;
  }
}

/* Mantener centrado únicamente del header de resultados (no afecta filtros) */
.resultados-header {
  display: flex;
  flex-direction: column;
  align-items: flex-start; /* mover a la izquierda */
  justify-content: center;
  gap: 0.4rem;
  text-align: left;        /* texto alineado a la izquierda */
  width: 100%;
}

/* Asegurar que el título ocupe el ancho disponible y no esté centrado por otras reglas */
.resultados-header .resultados-titulo {
  width: 100%;
  margin: 0;
  padding: 0;
  text-align: left;
}

/* Columna "Tipo" (nth-child(4)): más compacta y con truncado */
.table th:nth-child(4),
.table td:nth-child(4) {
  min-width: 80px;
  max-width: 110px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}

@media (max-width: 800px) {
  .table th:nth-child(4),
  .table td:nth-child(4) {
    min-width: 70px;
  }
}

/* Columna "VLAN MGMT" (nth-child(6)): más compacta y con truncado */
.table th:nth-child(6),
.table td:nth-child(6) {
  min-width: 90px;
  max-width: 130px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}

/* Columna "VLAN REAL" (nth-child(8)): más compacta y con truncado */
.table th:nth-child(8),
.table td:nth-child(8) {
  min-width: 90px;
  max-width: 130px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}

/* Ajustes responsivos para VLANs en pantallas pequeñas */
@media (max-width: 800px) {
  .table th:nth-child(6),
  .table td:nth-child(6),
  .table th:nth-child(8),
  .table td:nth-child(8) {
    min-width: 70px;
    max-width: 120px;
  }
}

/* Estilos para el área de paginación y contador de servidores */
.pagination-controls {
  display: grid;
  grid-template-columns: auto 1fr auto; /* izquierda (selector + descarga), centro (contador), derecha (navegación) */
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

/* Alinear el bloque izquierdo al inicio y el derecho al final */
.pagination-controls > .pagination__items-per-page {
  justify-self: start;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.pagination-controls > .pagination__navigation {
  justify-self: end;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

/* Centrar el contador en la columna central y usar azul */
.pagination-controls > .servers-found--center {
  justify-self: center;
  text-align: center;
  color: var(--color-secundario); /* cambiado a azul */
  font-weight: 700;
}

/* Responsivo:
    grid-template-columns: 1fr;
    grid-auto-rows: auto;
    row-gap: 0.5rem;
  }
  .pagination-controls > .pagination__items-per-page,
  .pagination-controls > .pagination__navigation {
    justify-self: center;
  }
  .pagination-controls > .servers-found--center {
    justify-self: center;
  }
}

/* ----- Scoped styles: FILTER FORM (alineado a la izquierda) ----- */

.filter-form .form__group {
  align-items: flex-start; /* etiquetas a la izquierda dentro del grid */
}
.filter-form .form__label {
  text-align: left;
  width: 100%;
  display: block;
}
.filter-form .form__input,
.filter-form .custom-select__trigger {
  text-align: left;         /* valor y placeholder alineados a la izquierda */
  justify-content: flex-start; /* icon + texto en trigger alineado a la izquierda */
  gap: 0.5rem;
}
.filter-form .custom-select__trigger span {
  display: inline-block;
}
.filter-form .custom-select__panel .custom-select__option {
  text-align: left; /* mantener opciones del panel a la izquierda */
}

/* ----- Scoped styles: RESULTADOS (EditorMasivo) — centrado ----- */
.resultados-editor .form__group {
  align-items: center;
}
.resultados-editor .form__label {
  text-align: center;
  width: 100%;
  display: block;
}
.resultados-editor .form__input,
.resultados-editor .custom-select__trigger {
  text-align: center;       /* centrar el texto dentro de inputs / triggers */
  justify-content: center;  /* centrar icon + texto en trigger */
  gap: 0.5rem;
}
.resultados-editor .custom-select__trigger span {
  display: inline-block;
}

/* Mantener las opciones del panel legibles: no forzarles centrado para checkbox/radio */
.resultados-editor .custom-select__panel .custom-select__option {
  text-align: left; /* opciones internas siguen alineadas a la izquierda */
}

/* Si hay triggers dentro de la tabla-container (ej. bulk edit), aseguramos centrado visual */
.resultados-editor .bulk-edit-field,
.resultados-editor .pagination__items-per-page {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;
}

/* Asegurar anchos uniformes para los campos del formulario de filtros */
.filter-form .form__grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: var(--espaciado-md);
  align-items: start;
}

/* Cada grupo del filtro tendrá un ancho mínimo consistente */
.filter-form .form__group {
  min-width: 220px;
}

/* Forzar inputs/triggers del filtro a ocupar todo el ancho de su celda y alinearse a la izquierda */
.filter-form .form__input,
.filter-form .custom-select__trigger {
  width: 100%;
  box-sizing: border-box;
  text-align: left;
  justify-content: flex-start;
  gap: 0.5rem;
}

/* Asegurar que los panels de opciones mantengan su alineación natural */
.filter-form .custom-select__panel .custom-select__option {
  text-align: left;
}

/* Pequeña mejora responsiva para móviles */
@media (max-width: 560px) {
  .filter-form .form__grid {
    grid-template-columns: 1fr;
    gap: var(--espaciado-sm);
  }
  .filter-form .form__group {
    min-width: 0;
  }
}

/* Hacer que los dropdowns del formulario de filtros ocupen el mismo ancho que los inputs */
.filter-form .custom-select {
  width: 100%;
  min-width: 0;          /* permitir que respeten la rejilla del filtro */
  position: relative;    /* necesario para posicionar el panel absoluto */
  box-sizing: border-box;
}

.filter-form .custom-select .custom-select__trigger {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-start; /* texto a la izquierda igual que los inputs */
  gap: 0.5rem;
  padding: 8px 10px;
  box-sizing: border-box;
}

/* El panel del dropdown se expande al ancho del trigger y queda superpuesto (no rompe layout) */
.filter-form .custom-select__panel {
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  width: 100%;
  max-height: 320px;
  overflow: auto;
  background: var(--color-superficie);
  border: 1px solid var(--color-borde);
  border-radius: 8px;
  box-shadow: var(--sombra-caja);
  z-index: 1200;
  box-sizing: border-box;
  padding: 0.25rem 0;
}

.filter-form .custom-select__option {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  padding: 0.45rem 0.75rem;
  white-space: nowrap;
}

/* --- Ajustes: evitar que inputs ocupen todo hasta el borde y permitan separación con labels de la derecha --- */
.bulk-edit-field {
/* ...existing declarations... */
/* añadir espacio a la derecha entre campos vecinos */
margin-right: 0.6rem !important; /* separación extra entre cajas para evitar solapes */
box-sizing: border-box !important;
}

/* Reservar espacio interior al input/trigger para que no llegue hasta el borde derecho */
.bulk-edit-field .form__input,
.bulk-edit-field .custom-select__trigger,
.resultados-editor .bulk-edit-field .form__input,
.resultados-editor .bulk-edit-field .custom-select__trigger {
/* mantener padding lateral existente y añadir más a la derecha */
padding-left: 10px !important;
padding-right: 20px !important; /* espacio extra para evitar que la label de la siguiente columna se superponga */
box-sizing: border-box !important;
}

/* El contenedor del control deja un pequeño padding derecho para separar visualmente la siguiente label */
.bulk-edit-field .bulk-edit-control {
/* ...existing declarations... */
padding-right: 0.6rem !important;
overflow: visible !important; /* permitir que paneles se muestren sin cortar */
}

/* Si el input/trigger incluye un icono al final, evitar que quede encima de la label vecina */
.bulk-edit-field .custom-select__trigger .chevron,
.bulk-edit-field .form__input .suffix-icon {
margin-left: 8px !important;
}

/* En desktop (más espacio) aumentar ligeramente la separación entre campos */
@media (min-width: 1024px) {
.bulk-edit-controls { gap: 1.1rem !important; }
.bulk-edit-field { margin-right: 0.8rem !important; }
}

/* ===== Responsive: mejoras para pantallas de PC (>=1024px) ===== */
@media (min-width: 1024px) {
  /* Centrar la tabla y limitar su ancho máximo para pantallas grandes */
  .resultados-editor .table-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 12px;
    overflow-x: auto; /* permitir scroll horizontal si es necesario */
    -webkit-overflow-scrolling: touch;
  }

  /* Table: usar cálculo por contenido pero asegurar distribución cómoda */
  .resultados-editor .table {
    width: 100%;
    table-layout: auto !important;
    border-collapse: collapse;
  }

  /* Cabeceras sticky para mejorar usabilidad en tablas largas */
  .resultados-editor .table thead th {
    position: sticky;
    top: 0;
    z-index: 30;
    background: var(--color-superficie);
  }

  /* Celdas: permitir wrapping controlado y padding consistente */
  .resultados-editor .table th,
  .resultados-editor .table td {
    white-space: normal;
    word-break: break-word;
    overflow-wrap: anywhere;
    padding: 10px 12px;
    vertical-align: middle;
  }

  /* Texto dentro de celdas: limitar visual para evitar columnas demasiado anchas,
     pero permitir ver full text en tooltip/title si es necesario */
  .resultados-editor .table td .cell-text,
  .resultados-editor .table td .cell-empty {
    display: inline-block;
    max-width: 420px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    vertical-align: middle;
  }

  /* Inputs / triggers dentro de celdas mantienen tamaño estable pero son fluidos */
  .resultados-editor .table td input.form__input,
  .resultados-editor .table td .custom-select__trigger {
    min-width: 140px;
    max-width: 520px;
    width: 100%;
    box-sizing: border-box;
  }

  /* Column sizing por prioridad: Nombre más ancho, Tipo pequeño, resto flexibles */
  .resultados-editor .table th:nth-child(2),
  .resultados-editor .table td:nth-child(2) {
    width: 28%;
  }
  .resultados-editor .table th:nth-child(3),
  .resultados-editor .table td:nth-child(3) {
    width: 8%;
    min-width: 80px;
    text-align: center;
  }
  /* Dejar resto con width auto para que se adapten al contenido */
  .resultados-editor .table th:nth-child(n+4),
  .resultados-editor .table td:nth-child(n+4) {
    width: auto;
  }

  /* Asegurar que los selects desplegables no empujen la tabla (panel absolute ya definido),
     y que su trigger mantenga la misma caja al abrir */
  .resultados-editor .table .custom-select {
    position: relative;
  }
  .resultados-editor .table .custom-select__panel {
    position: absolute;
    top: calc(100% + 6px);
    left: 0;
    min-width: 260px;
    max-width: 640px;
    z-index: 2400;
  }

  /* Botón de link y checks: no crecer para mantener filas alineadas */
  .resultados-editor .table td .btn-icon {
    width: 36px;
    height: 36px;
  }
  .resultados-editor .table td .filter-checkbox {
    transform: scale(0.95);
  }
}

/* === Forzar que la tabla ocupe todo el ancho y mostrar todas las columnas sin scroll lateral === */
/* Aplicar comportamiento responsive para escritorio y pantallas grandes */
@media (min-width: 1024px) {
  /* Evitar scroll horizontal en el contenedor principal (permitimos wrapping en las celdas)
     <-- REEMPLAZADO: ahora permitimos scroll horizontal para que la tabla pueda desplazarse -->
  .resultados-editor .table-container {
    overflow-x: auto !important;
    padding-right: 0;
    -webkit-overflow-scrolling: touch;
  }

  /* Forzar la tabla a ocupar 100% del espacio disponible.
     Usamos table-layout: fixed para repartir equitativamente el ancho entre columnas
     y confiar en el wrapping para mostrar el contenido en varias líneas si hace falta. */
  .resultados-editor .table {
    width: 100% !important;
    table-layout: fixed !important;
    border-collapse: collapse;
    font-size: 12px; /* fuente más compacta para que quepan más columnas */
  }

  /* Cabeceras: mantener en una sola línea para legibilidad */
  .resultados-editor .table thead th {
    white-space: nowrap !important;
    overflow: hidden;
    text-overflow: ellipsis;
    padding: 8px 10px !important;
  }

  /* Celdas: permitir wrapping, reducir padding y controlar el comportamiento de corte */
  .resultados-editor .table td,
  .resultados-editor .table th {
    white-space: normal !important;        /* permitir varias líneas dentro de la celda */
    word-break: break-word !important;
    overflow-wrap: anywhere !important;
    padding: 6px 8px !important;          /* padding menor para ahorrar espacio horizontal */
    vertical-align: middle !important;
    text-overflow: clip !important;
  }

  /* Mostrar el contenido de la celda en bloque para que haga wrap cómodamente */
  .resultados-editor .table td .cell-text,
  .resultados-editor .table td .cell-empty {
    display: block;
    max-width: 100%;
  }

  /* Inputs/triggers en celdas serán compactos pero fluidos */
  .resultados-editor .table td input.form__input,
  .resultados-editor .table td .custom-select__trigger {
    font-size: 12px !important;
    padding: 6px 8px !important;
    height: auto !important;
    line-height: 1.1;
  }

  /* Column sizing por prioridad: Nombre más ancho, Tipo pequeño, resto flexibles */
  .resultados-editor .table th:nth-child(2),
  .resultados-editor .table td:nth-child(2) {
    width: 28%;
  }
  .resultados-editor .table th:nth-child(3),
  .resultados-editor .table td:nth-child(3) {
    width: 8%;
    min-width: 80px;
    text-align: center;
  }
  /* Dejar resto con width auto para que se adapten al contenido */
  .resultados-editor .table th:nth-child(n+4),
  .resultados-editor .table td:nth-child(n+4) {
    width: auto;
  }

  /* Asegurar que los selects desplegables no empujen la tabla (panel absolute ya definido),
     y que su trigger mantenga la misma caja al abrir */
  .resultados-editor .table .custom-select {
    position: relative;
  }
  .resultados-editor .table .custom-select__panel {
    position: absolute;
    top: calc(100% + 6px);
    left: 0;
    min-width: 260px;
    max-width: 640px;
    z-index: 2400;
  }

  /* Botón de link y checks: no crecer para mantener filas alineadas */
  .resultados-editor .table td .btn-icon {
    width: 36px;
    height: 36px;
  }
  .resultados-editor .table td .filter-checkbox {
    transform: scale(0.95);
  }
}

/* === OVERRIDE GLOBAL: permitir que las columnas se adapten al contenido y las celdas muestren todo === */
/* Contenedor: permitir siempre scroll horizontal si hace falta */
.resultados-editor .table-container {
  overflow-x: auto !important;
}

/* Tabla: que el navegador calcule anchuras según contenido */
.resultados-editor .table {
  table-layout: auto !important;
  width: auto !important;
  min-width: 0 !important; /* anula min-width rígidos previos */
}

/* Celdas: permitir wrap y altura automática para mostrar valores completos */
.resultados-editor .table th,
.resultados-editor .table td {
  white-space: normal !important;     /* permitir varias líneas */
  overflow: visible !important;
  text-overflow: clip !important;
  width: auto !important;
  min-width: 0 !important;
  max-width: none !important;
}

/* Spans / contenidos internos: mostrar en bloque para que hagan wrap y se muestren completos */
.resultados-editor .table td .cell-text,
.resultados-editor .table td .cell-empty,
.resultados-editor .table td input.form__input,
.resultados-editor .table td .custom-select__trigger {
  display: block;
  width: auto !important;
  max-width: none !important;
  white-space: normal !important;
  overflow: visible !important;
  box-sizing: border-box;
}

/* Neutralizar anchos forzados por columnas específicas (Índice, Tipo, IPs, Link, VLANs...) */
.resultados-editor .table th:nth-child(1),
.resultados-editor .table td:nth-child(1),
.resultados-editor .table th:nth-child(2),
.resultados-editor .table td:nth-child(2),
.resultados-editor .table th:nth-child(3),
.resultados-editor .table td:nth-child(3),
.resultados-editor .table th:nth-child(4),
.resultados-editor .table td:nth-child(4),
.resultados-editor .table th:nth-child(5),
.resultados-editor .table td:nth-child(5),
.resultados-editor .table th:nth-child(6),
.resultados-editor .table td:nth-child(6),
.resultados-editor .table th:nth-child(7),
.resultados-editor .table td:nth-child(7),
.resultados-editor .table th:nth-child(8),
.resultados-editor .table td:nth-child(8),
.resultados-editor .table th:nth-child(18),
.resultados-editor .table td:nth-child(18),
.resultados-editor .table th:nth-child(20),
.resultados-editor .table td:nth-child(20) {
  width: auto !important;
  min-width: 0 !important;
  max-width: none !important;
}

/* Anular reglas globales en .table que pudieran imponer truncado o tamaños rígidos */
.table th,
.table td {
  white-space: normal !important;
  width: auto !important;
  min-width: 0 !important;
  max-width: none !important;
  height: auto !important;
}

/* Si se quiere forzar un comportamiento: permitir que el usuario despliegue horizontalmente
   en pantallas pequeñas pero que en escritorio las celdas se ajusten. */
@media (min-width: 1024px) {
  .resultados-editor .table-container {
    overflow-x: auto !important;
  }
}

/* OVERRIDE: eliminar márgenes/padding fuera de la tabla dentro de resultados-editor */
.resultados-editor .table,
.resultados-editor .table th,
.resultados-editor .table td {
  margin: 0 !important;
  box-sizing: border-box;
}

.resultados-editor .table-container {
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin: 0 !important;
  overflow-x: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* ===== FIX: layout y legibilidad de tablas (overrides finales) ===== */
/* Contenedor: quitar padding extremo y mantener scroll horizontal cuando haga falta */
.resultados-editor .table-container {
  padding-left: var(--espaciado-md) !important;
  padding-right: var(--espaciado-md) !important;
  margin: 0 !important;
  max-width: 100% !important;
  box-sizing: border-box;
  overflow-x: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* Tabla: ocupar el ancho disponible y permitir que columnas se dimensionen por contenido.
   Evita min-width gigantes; ajustar para escritorio y móvil con media queries. */
.resultados-editor .table {
  margin: 0 auto !important;
  width: 100% !important;
  min-width: 1100px !important;    /* razonable para mostrar varias columnas; ajustar si deseas */
  max-width: none !important;
  table-layout: auto !important;
}

/* Celdas y encabezados: mejorar lectura (alineado a la izquierda, padding cómodo, alto automático) */
.resultados-editor .table thead th,
.resultados-editor .table th,
.resultados-editor .table td {
  text-align: left !important;
  vertical-align: top !important;
  padding: 10px 12px !important;
  white-space: normal !important;
  overflow: visible !important;
  word-break: break-word !important;
}

/* Cabeceras sticky con fondo consistente y z-index suficiente */
.resultados-editor .table thead th {
  position: sticky !important;
  top: 0 !important;
  z-index: 60 !important;
  background: var(--color-superficie) !important;
}

/* Primera columna (índice / checkbox) compacta pero alineada a la izquierda para legibilidad */
.resultados-editor .table th:nth-child(1),
.resultados-editor .table td:nth-child(1) {
  text-align: center !important; /* mantener índice centrado visualmente */
  vertical-align: middle !important;
  padding: 8px 6px !important;
}

/* En móviles reducir el min-width para evitar scroll excesivo y mantener lectura */
@media (max-width: 1024px) {
  .resultados-editor .table {
    min-width: 900px !important;
  }
}

/* Si prefieres que la tabla no fuerce min-width en absoluto (mostrarla adaptada), cambia min-width arriba a 0 */

/* ===== OVERRIDE FINAL: Mejorar scroll/visualización de tablas y modales ===== */
/* Contenedores de tabla: permitir scroll horizontal y vertical si hace falta */
.table-container,
.resultados-editor .table-container {
  overflow-x: auto !important;   /* scroll horizontal si la tabla es ancha */
  overflow-y: hidden !important; /* evitar doble scroll vertical en la página */
  -webkit-overflow-scrolling: touch;
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin: 0 !important;
  box-sizing: border-box;
}

/* Forzar que la tabla use su ancho natural y permita el scroll del contenedor */
.resultados-editor .table,
.table {
  width: auto !important;        /* no forzar 100% que puede colapsar visualmente */
  min-width: 1100px !important;  /* ajustar según cuántas columnas necesites ver */
  max-width: none !important;
  table-layout: auto !important;
}

/* Si quieres que la tabla se ajuste más al viewport, baja min-width (ej. 900px) */

/* Modales: limitar altura y permitir scroll interno para ver contenido largo (tablas) */
.modal__content .modal__body,
.modal-content-preview .modal__body,
.modal-content-servidor .modal__body {
  max-height: calc(75vh) !important; /* dejar espacio para header/footer del modal */
  overflow-y: auto !important;       /* scroll vertical dentro del modal */
  -webkit-overflow-scrolling: touch;
  padding-right: 8px;                /* evitar que el contenido toque el borde */
  box-sizing: border-box;
}

/* Mejor experiencia visual: mostrar scrollbar solo cuando hace falta */
.table-container::-webkit-scrollbar,
.resultados-editor .table-container::-webkit-scrollbar,
.modal__content .modal__body::-webkit-scrollbar {
  height: 10px;
  width: 10px;
}
.table-container::-webkit-scrollbar-thumb,
.resultados-editor .table-container::-webkit-scrollbar-thumb,
.modal__content .modal__body::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.08);
  border-radius: 8px;
}

/* Asegurar que las celdas no aumenten el contenedor por márgenes inesperados */
.resultados-editor .table th,
.resultados-editor .table td,
.table th,
.table td {
  box-sizing: border-box;
  margin: 0 !important;
  padding-left: 8px !important;
  padding-right: 8px !important;
}

/* OVERRIDE: forzar scroll horizontal y ancho natural de la tabla en resultados-editor */
.resultados-editor .table-container {
  overflow-x: auto !important;
  -webkit-overflow-scrolling: touch;
  overflow-y: hidden !important; /* evita doble scroll vertical */
  padding-left: 0 !important;
  padding-right: 0 !important;
  box-sizing: border-box;
}

/* Permitir que la tabla ocupe su ancho real y provoque scroll lateral en el contenedor */
.resultados-editor .table {
  width: max-content !important;    /* usa ancho necesario para mostrar todas las columnas */
  min-width: 100% !important;      /* al menos ocupar el ancho del contenedor si cabe */
  table-layout: auto !important;
  white-space: nowrap !important;   /* mantener celdas en una línea para permitir scroll lateral */
}

/* Evitar wrapping en celdas del scope para que el scroll lateral muestre toda la información */
.resultados-editor .table th,
.resultados-editor .table td {
  white-space: nowrap !important;
  overflow: visible !important;
  text-overflow: clip !important;
}

/* Si se desea scroll vertical dentro del modal donde aparece la tabla, limitar alto del body del modal */
.modal-content-preview .modal__body,
.modal-content-servidor .modal__body {
  max-height: calc(75vh) !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* OVERRIDE FINAL: asegurar centrado de tablas dentro de resultados-editor y vistas específicas */
.resultados-editor .table th,
.resultados-editor .table td,
.resultados-editor .table thead th,
.resultados-editor .table tbody td {
  text-align: center !important;
  vertical-align: middle !important;
}

/* Asegurar centrado también para otras tablas que usen la clase .table */
.table th,
.table td {
  text-align: center !important;
  vertical-align: middle !important;
}

/* Mantener títulos/headers de sección alineados a la izquierda (no tocar) */

/* OVERRIDE: tamaño de fuente más compacto específicamente para tablas dentro de resultados-editor */
.resultados-editor .table,
.resultados-editor .table th,
.resultados-editor .table td {
  font-size: 11px !important;
  line-height: 1.2 !important;
}

/* Forzar que los elementos internos hereden el tamaño (inputs/selects dentro de celdas) */
.resultados-editor .table td .cell-text,
.resultados-editor .table td .cell-empty,
.resultados-editor .table td input.form__input,
.resultados-editor .table td .custom-select__trigger {
  font-size: inherit !important;
  line-height: inherit !important;
}

/* Reducir padding vertical en este scope para una apariencia más compacta */
.resultados-editor .table th,
.resultados-editor .table td {
  padding-top: 4px !important;
  padding-bottom: 4px !important;
  padding-left: 8px !important;
  padding-right: 8px !important;
}

/* Si quieres distinto tamaño según pantalla, descomenta/ajusta estas media queries */
/*
@media (max-width: 800px) {
  .table, .resultados-editor .table { font-size: 11px !important; }
}
*/
/* ===== Estilos para el dropdown de "Descargar" (Exportar CSV / Excel) ===== */
.export-dropdown-container {
  position: relative;
  display: inline-block;
  vertical-align: middle;
}

/* El botón que abre el menú debe mantenerse en el flujo y encima del panel */
.export-dropdown-container .btn {
  position: relative;
  z-index: 10;
}

/* Ajuste: subir ligeramente el botón "Descargar" para alinearlo mejor con los controles adyacentes */
.export-dropdown-container .btn {
  position: relative;    /* mantener en flujo pero permitir desplazamiento visual */
  top: -2px;              /* menos negativo -> baja un poco respecto a antes */
  transition: top 140ms ease, transform 120ms ease; /* suavizar cambio y conservar transform-hover */
  z-index: 15;           /* asegurar que el botón quede por encima de elementos cercanos */
}

/* Panel desplegable: absoluto, debajo del trigger, sombra y transición */
.export-dropdown-container .export-menu {
  position: absolute;
  right: 0;
  margin-top: 6px;
  min-width: 158.6px !important;
  background: var(--color-superficie);
  border: 1px solid var(--color-borde);
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.12);
  z-index: 1400;
  padding: 6px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  animation: fadeInMenu 140ms ease-out;
}

/* Ítem del menú: botón full-width, alineado a la izquierda con icono */
.export-dropdown-container .export-menu-item {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 8px 12px;
  background: transparent;
  border: none;
  color: var(--color-texto-principal);
  text-align: left;
  cursor: pointer;
  border-radius: 6px;
  font-weight: 600;
  transition: background 0.12s ease, color 0.12s ease, transform 0.06s ease;
}

/* Hover / focus states para accesibilidad */
.export-dropdown-container .export-menu-item:hover,
.export-dropdown-container .export-menu-item:focus {
  background: var(--color-primario);
  color: var(--color-superficie);
  transform: translateY(-1px);
  outline: none;
}

/* Iconos dentro de los ítems (SVG) */
.export-dropdown-container .export-menu-item svg {
  width: 16px;
  height: 16px;
  flex: 0 0 16px;
  color: inherit;
}

/* Pequeño ajuste para evitar que el panel crezca demasiado en móviles */
@media (max-width: 480px) {
  .export-dropdown-container .export-menu {
    right: 8px;
    left: 8px;
    min-width: auto;
  }
}

/* Centerar los contenedores que incluyen el botón "Descargar" y ajustar tipografía */
.pagination-controls {
  align-items: center; /* asegurar alineación vertical */
}

/* Centrar el bloque izquierdo (selector + descargar) visualmente */
.pagination-controls > .pagination__items-per-page {
  display: inline-flex;
  align-items: center;
  gap: 0.6rem;
  justify-self: center; /* centrar en la grid */
  justify-content: center; /* centrar su contenido */
}

/* Cuando se usa .table-controls (componente BusquedaTabla), centrar también su contenido */
.table-controls {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  justify-content: center; /* centrar el botón descargar dentro de su contenedor */
}

/* Ajustes de tamaño de fuente para que coincida con la tabla de resultados (11px) */
.export-dropdown-container,
.export-dropdown-container .export-menu,
.export-dropdown-container .export-menu-item,
.export-dropdown-container .btn {
  font-size: 11px !important;
  line-height: 1.2 !important;
}

/* Reducir padding del trigger para mantener proporción con la fuente */
.export-dropdown-container .btn,
.pagination-select .custom-select__trigger {
  padding: 6px 10px !important;
}

/* Ajustes visuales para ítems del menú export (compactos) */
.export-dropdown-container .export-menu {
  min-width: 200px;
  padding: 6px !important;
  gap: 4px;
}

.export-dropdown-container .export-menu-item {
  padding: 6px 10px !important;
  border-radius: 6px;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

/* Asegurar que el dropdown no sea cortado en contenedores con overflow */
.export-dropdown-container {
  position: relative; /* ya definido, reafirmar */
  z-index: 1400;
}

/* Small screens: mantener centrado y panel full-width con margenes */
@media (max-width: 480px) {
  .pagination-controls > .pagination__items-per-page {
    justify-self: center;
  }
  .export-dropdown-container .export-menu {
    left: 8px !important;
    right: 8px !important;
    top: calc(100% + 8px) !important;
    min-width: auto !important;
  }
}

/* Reusar animación definida anteriormente si existe */
@keyframes fadeInMenu {
  from { opacity: 0; transform: translateY(-6px) scale(0.995); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

/* Barra superior de resultados/editor: distribuir grupos LEFT / CENTER / RIGHT */
.editor-toolbar {
  display: flex;
  align-items: center;
  gap: 1rem;
  width: 100%;
  box-sizing: border-box;
}

/* Cada grupo mantiene su alineamiento interno */
.editor-toolbar .toolbar-group {
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

/* El grupo central ocupa el espacio restante para centrar badge + paginación */
.editor-toolbar .toolbar-center {
  flex: 1 1 auto;
  justify-content: center;
}

/* Grupos extremos no crecen */
.editor-toolbar .toolbar-left,
.editor-toolbar .toolbar-right {
  flex: 0 0 auto;
}

/* Ajustes para la paginación inline dentro de la toolbar */
.pagination-controls-inline .btn-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 6px;
  border-radius: 8px;
  background: transparent;
  border: 1px solid transparent;
}

/* Badge con tamaño fijo y centrado en toolbar */
.editor-toolbar .badge {
  min-width: 160px;
  text-align: center;
  padding: 6px 12px;
  border-radius: 9999px;
}

/* Responsivo: en pantallas pequeñas apilar verticalmente y centrar */
@media (max-width: 800px) {
  .editor-toolbar {
    flex-direction: column;
    align-items: stretch;
    gap: 0.6rem;
  }
  .editor-toolbar .toolbar-center {
    order: 2;
  }
  .editor-toolbar .toolbar-left,
  .editor-toolbar .toolbar-right {
    order: 1;
    justify-content: center;
  }
}

/* Asegurar que el export dropdown permanezca como overlay y no afecte layout */
.export-dropdown-container { position: relative; }
.export-dropdown-container .export-menu { position: absolute; right: 0; top: calc(100% + 6px); }

/* ===== Uniformizar tamaño de texto de la UI relacionada con RESULTADOS / EDITOR =====
   Hacemos que toolbar, paneles, controles, dropdowns y botones en el scope de
   resultados-editor usen el mismo tamaño de texto que la tabla (11px). Esto evita
   diferencias visuales entre la tabla y sus controles adyacentes. */

.resultados-editor,
.resultados-editor * {
  font-size: 11px !important;
  line-height: 1.2 !important;
}

/* Asegurar también que los paneles y controles de edición / toolbar / bulk-edit compartan tamaño */
.editor-toolbar,
.editor-toolbar *,
.editor-panel,
.editor-panel * ,
.bulk-edit-controls,
.bulk-edit-controls * ,
.bulk-edit-field,
.bulk-edit-field * ,
.table-controls,
.table-controls * {
  font-size: 11px !important;
  line-height: 1.2 !important;
}

/* Export/pagination controls */
.export-dropdown-container,
.export-dropdown-container *,
.pagination-controls,
.pagination-controls *,
.pagination-controls .servers-found--center,
.pagination-controls .servers-found--center * {
  font-size: 11px !important;
  line-height: 1.2 !important;
}

/* Formularios y triggers dentro de resultados-editor: inputs, selects y triggers */
.resultados-editor .form__input,
.resultados-editor .custom-select__trigger,
.resultados-editor .custom-select__panel,
.resultados-editor .custom-select__option {
  font-size: 11px !important;
  line-height: 1.2 !important;
}

/* Botones y botones-ícono en el scope de resultados/editor */
.resultados-editor .btn,
.resultados-editor .btn-icon,
.editor-toolbar .btn,
.editor-panel .btn,
.export-dropdown-container .btn,
.pagination-controls .btn,
.table-controls .btn {
  font-size: 11px !important;
  line-height: 1.2 !important;
}

/* Badge y paginación inline */
.editor-toolbar .badge,
.pagination-controls-inline,
.pagination-controls-inline * {
  font-size: 11px !important;
  line-height: 1.2 !important;
}

/* Evitar que el ajuste de fuente reduzca excesivamente la altura visual de los triggers */
.resultados-editor .form__input,
.resultados-editor .custom-select__trigger {
  min-height: 34px; /* mantener buena area clicable aun con texto más pequeño */
}

/* Mobile: preservar legibilidad sin cambiar la intención visual */
@media (max-width: 480px) {
  .resultados-editor,
  .editor-toolbar,
  .editor-panel,
  .bulk-edit-controls,
  .export-dropdown-container {
    font-size: 11px !important;
    line-height: 1.2 !important;
  }
}

/* Forzar que la tabla y su contenedor estén por debajo de otras capas (dropdowns, modales, menús) */
.resultados-editor .table-container,
.table-container {
  position: relative; /* contexto para z-index sin afectar el layout */
  z-index: 0 !important; /* quedar por debajo de overlays con z-index mayor */
}

/* Mantener la tabla en una capa baja frente al resto de la UI */
.resultados-editor .table,
.table {
  position: relative; /* necesario para que z-index tenga efecto en algunos navegadores */
  z-index: 0 !important;
}

/* Override final: situar el botón de "Descargar" y su panel por encima de la tabla (z-index:0)
   pero por debajo de overlays importantes (modales, menús globales con z-index muy alto). */
.export-dropdown-container,
.resultados-editor .export-dropdown-container {
  /* mantener contexto y estar por encima de la tabla (tabla usa z-index:0) */
  position: relative !important;
  z-index: 12 !important; /* > tabla (0), < modales/menus (p.ej. 1400) */
}

/* Botón trigger: ligeramente por encima del contenedor para evitar ser tapado por el panel */
.export-dropdown-container .btn,
.resultados-editor .export-dropdown-container .btn {
  z-index: 14 !important;
  position: relative !important;
}

/* Panel desplegable: encima del botón pero aún en capa baja frente a modales */
.export-dropdown-container .export-menu,
.resultados-editor .export-dropdown-container .export-menu {
  z-index: 20 !important; /* suficientemente alto para mostrarse sobre la tabla pero bajo overlays globales */
  position: absolute !important; /* reafirmar posición para que z-index se aplique localmente */
}

/* Aumentar tamaño del título "Resultados de la Búsqueda" */
.resultados-header .resultados-titulo {
  font-size: 2rem !important;      /* más grande para destacar */
  font-weight: 800 !important;     /* más énfasis */
  line-height: 1.08 !important;
  margin: 0 0 0.4rem 0 !important;
}

/* Ajuste responsivo para pantallas pequeñas */
@media (max-width: 800px) {
  .resultados-header .resultados-titulo {
    font-size: 1.4rem !important;  /* tamaño más contenido en móvil */
    font-weight: 700 !important;
  }
}

/* Botones compactos para EditorMasivo: reducir ancho/alto sin tocar estilos globales */
.editor-toolbar .btn--compact,
.editor-panel .btn--compact,
.resultados-editor .btn--compact {
  padding: 6px 8px !important;       /* más compacto horizontalmente */
  min-width: 92px !important;        /* ancho mínimo reducido */
  height: 32px !important;           /* altura reducida */
  font-size: 12px !important;
  line-height: 1 !important;
  border-radius: 8px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 6px !important;
}

/* Íconos dentro de botones compactos: ajustar tamaño para centrar visualmente */
.btn--compact svg,
.btn--compact i {
  width: 14px !important;
  height: 14px !important;
}

/* Hover states conservados (ligera elevación) */
.btn--compact:hover {
  transform: translateY(-1px);
}

/* Si quieres que el botón compacto destaque menos visualmente, se puede reducir box-shadow */
.btn--compact {
  box-shadow: none !important;
}

/* Reducir tamaño y espaciado específico para el formulario de filtros */
.filter-form {
  font-size: 12px !important;              /* base compacta */
  line-height: 1.15 !important;
}

/* Labels más pequeños y compactos */
.filter-form .form__label {
  font-size: 0.85rem !important;           /* ~13.6px si base 16px */
  font-weight: 600;
  margin-bottom: 0.25rem;
  display: flex;
  align-items: center;
  gap: 0.4rem;
}

/* Iconos/ svgs dentro de labels más pequeños */
.filter-form .form__label svg,
.filter-form .form__label .material-symbols-outlined {
  width: 14px !important;
  height: 14px !important;
  font-size: 14px !important;
  flex: 0 0 auto;
}

/* Inputs y triggers compactos: menor padding y altura */
.filter-form .form__input,
.filter-form .custom-select__trigger {
  font-size: 0.85rem !important;
  padding: 6px 8px !important;
  min-height: 34px !important;   /* mantener área clicable */
  height: 34px !important;
  display: flex !important;
  align-items: center !important;
  gap: 0.4rem !important;
}

/* Panel de opciones y cada opción más compacto */
.filter-form .custom-select__panel .custom-select__option {
  font-size: 0.85rem !important;
  padding: 6px 8px !important;
  gap: 0.45rem !important;
}

/* Checkbox más pequeño en los panels del filtro */
.filter-form .custom-select__option input[type="checkbox"],
.filter-form input[type="checkbox"]:not(.filter-checkbox) {
  width: 14px !important;
  height: 14px !important;
  margin-right: 0.45rem !important;
}

/* Reducir gap entre elementos del grid del filtro */
.filter-form .form__grid {
  gap: 0.5rem !important;
}

/* Grupos del filtro un poco más compactos en ancho mínimo para permitir más columnas en pantallas grandes */
.filter-form .form__group {
  min-width: 180px !important;
}

/* Chevron más pequeño dentro de triggers para mantener proporción */
.filter-form .custom-select__trigger .chevron,
.filter-form .chevron {
  width: 8px !important;
  height: 8px !important;
  margin-left: 0.4rem !important;
}

/* Ajustes responsivos: en móviles reducir aún más tamaños pero conservar accesibilidad */
@media (max-width: 560px) {
  .filter-form {
    font-size: 11px !important;
  }
  .filter-form .form__label {
    font-size: 0.82rem !important;
  }
  .filter-form .form__input,
  .filter-form .custom-select__trigger {
    font-size: 0.82rem !important;
    padding: 8px 10px !important; /* mantener tamaño táctil confortable */
    min-height: 40px !important;
    height: 40px !important;
  }
  .filter-form .form__group {
    min-width: 0 !important;
  }
}

/* Botón compacto específico para .filter-form (Buscar Servidores y similares) */
.filter-form .btn--compact,
.filter-form .form__actions .btn--compact {
  padding: 6px 10px !important;
  height: 34px !important;
  min-width: 110px !important;
  font-size: 0.85rem !important;
  line-height: 1 !important;
  border-radius: 8px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 6px !important;
}

/* Ajuste del icono dentro del botón compacto en filtros */
.filter-form .btn--compact svg,
.filter-form .btn--compact i {
  width: 14px !important;
  height: 14px !important;
}

/* Evitar margen vertical no deseado para el botón "Buscar Servidores" en el formulario de filtros */
.filter-form .form__actions {
  margin: 0 !important;           /* quitar margen externo del contenedor de acciones */
  padding: 0 !important;
  display: flex;
  gap: 0.5rem;
  justify-content: flex-start;    /* ajustar según el layout que prefieras */
  align-items: center;
}

/* Forzar que el botón de búsqueda no tenga margin abajo/arriba */
.filter-form .form__actions .btn,
.filter-form .form__actions .btn--compact {
  margin: 0 !important;
  margin-bottom: 0 !important;
  margin-top: 0 !important;
  align-self: center !important;
  display: inline-flex !important;
}

/* Si hay reglas específicas en mobile que añadan espacio, anularlas aquí */
@media (max-width: 560px) {
  .filter-form .form__actions {
    justify-content: center; /* opcional: centrar en móviles */
    gap: 0.4rem;
  }
  .filter-form .form__actions .btn,
  .filter-form .form__actions .btn--compact {
    min-width: 96px !important; /* opcional, evita que el botón quebrante demasiado */
  }
}

/* Scoped: cuando una celda está en modo edición por doble-clic, agrandar el trigger y el panel */
.editor-masivo-container .table td.celda-editando {
  /* contexto para posicionar overlays dentro de la celda */
  position: relative;
}

/* Reemplazo: anclar el trigger/entrada al interior de la celda (izquierda/derecha),
   quitar transform/translate y desactivar transiciones para evitar movimiento lateral */
.editor-masivo-container .table td.celda-editando .custom-select__trigger,
.editor-masivo-container .table td.celda-editando .form__input {
  position: absolute !important;
  left: 4px !important;
  right: 4px !important;
  top: 4px !important;
  transform: none !important;
 

  max-width: calc(100% - 16px) !important;  /* respetar la celda y evitar overflow inesperado */
  width: auto !important;
  box-sizing: border-box !important;
  z-index: 1250 !important;
  transition: none !important;              /* desactivar transición para evitar desplazamiento */
  /* mantener estilos visuales de input/trigger */
  background: var(--color-superficie) !important;
  border-radius: 6px !important;
  padding: 6px 10px !important;
}

/* Panel desplegable: anclado a la misma caja del trigger (no centrado), sin transform ni transición */
.editor-masivo-container .table td.celda-editando .custom-select__panel {
  position: absolute !important;
  top: calc(100% + 6px) !important;
  left: 8px !important;
  right: 8px !important;
  transform: none !important;
  min-width: 320px !important;              /* suficiente para ver opciones claramente */
  max-width: 90vw !important;
  width: auto !important;
  max-height: 360px !important;
  overflow-y: auto !important;              /* scroll funcional si hay muchas opciones */
  -ms-overflow-style: none;  /* ocultar scrollbar visual en IE/Edge si se desea */
  scrollbar-width: thin;     /* Firefox: mantener fino (opcional) */
  box-shadow: 0 12px 36px rgba(2,6,23,0.12) !important;
  border-radius: 10px !important;
  z-index: 1400 !important;
  transition: none !important;/* desactivar transición para que no se mueva lateralmente */
}

/* Mantener opciones con ancho completo del panel para legibilidad */
.editor-masivo-container .table td.celda-editando .custom-select__panel .custom-select__option {
  display: flex;
  align-items: center;
  width: 100%;
  white-space: nowrap;
  padding: 8px 12px;
  box-sizing: border-box;
  gap: 0.6rem;
}

/* === Ocultar detalles en el modal de "Aplicar cambios" cuando se use la clase `apply-confirm` ===
   - Añadir `customClass: { popup: 'apply-confirm' }` en la llamada a Swal.fire (o la clase 'apply-confirm'
     al contenedor del modal si es tu modal propio). Con esto sólo se mostrará la primera línea (el título/mensaje),
     y cualquier detalle extra (líneas/labels) quedará oculto por CSS.
*/
.swal2-popup.apply-confirm .swal2-html-container > *:not(:first-child),
.modal__content.apply-confirm .modal__body > *:not(.always-show):not(.modal__actions) {
  display: none !important;
  visibility: hidden !important;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
}

/* Asegurar que el texto principal del modal se centre y se muestre limpio */
.swal2-popup.apply-confirm .swal2-title,
.modal__content.apply-confirm .modal__title {
  text-align: center !important;
  margin-bottom: 0.6rem !important;
}

/* Permitir que botones y acciones del modal sigan visibles */
.swal2-popup.apply-confirm .swal2-actions,
.modal__content.apply-confirm .modal__actions {
  display: flex !important;
  justify-content: center !important;
  gap: 0.75rem !important;
}

/* Alinear la chevron dentro del trigger al borde derecho (ligeramente inset) */
/* Reservamos espacio interior para evitar que el texto choque con el icono */
.custom-select .custom-select__trigger {
  position: relative !important;      /* contexto para posicionar el icono absolute */
  padding-right: 36px !important;     /* espacio para el icono (ajusta si necesitas más/menos) */
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important; /* mantener texto a la izquierda, icono absolute a la derecha */
  gap: 0.5rem !important;
  box-sizing: border-box !important;
}

/* Si hay reglas más específicas para el formulario de filtros, reforzarlas */
.filter-form .custom-select .custom-select__trigger {
  padding-right: 36px !important;
}

/* Posicionar el chevron al final del trigger, con un pequeño margen interno (inset) */
.custom-select .custom-select__trigger .chevron {
  position: absolute !important;
  right: 10px !important;             /* inset desde el borde derecho (no totalmente pegado) */
  top: 50% !important;
  transform: translateY(-50%) rotate(45deg) !important; /* mantener apariencia triangular */
  transition: transform 0.18s ease, opacity 0.12s ease !important;
  margin-left: 0 !important;          /* evitar margen extra que empuje el icono */
  pointer-events: none;               /* que clicks pasen al botón; si quieres que sea clicable cambia a auto */
}

/* Estado abierto: rotación invertida (coincide con reglas previas) */
.custom-select .custom-select__trigger .chevron.open {
  transform: translateY(-50%) rotate(-135deg) !important;
}

/* Asegurar que el span de texto no colapse ni quede debajo del icono */
.custom-select .custom-select__trigger > span {
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px; /* espacio adicional antes del icono, opcional */
}

