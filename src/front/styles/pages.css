/* src/front/styles/pages.css */

/* --- Hero Section Genérico (Usado en Home, Editor Masivo, etc.) --- */
.hero {
  background: linear-gradient(135deg, #021027 0%, #004477 0%, #007953 90%);
  padding: 20px var(--espaciado-lg);
  text-align: center;
  color: white;
  overflow: hidden;
  flex-shrink: 0;
}

.hero__content {
  max-width: 1200px;
  margin: 0 auto;
}

.hero__title {
  font-size: var(--tamano-titulo-h1);
  text-shadow: 0 2px 16px rgba(0, 0, 0, 0.2);
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
  opacity: 0;
  animation: fadeUp 0.8s ease-out 0.3s forwards;
}

.hero__subtitle {
  font-size: 2.5rem;
  /* Usar Audiowide para el subtítulo */
  font-family: "Audiowide", sans-serif;
  color: rgba(255, 255, 255, 0.9);
  margin-top: var(--espaciado-xs);
  opacity: 0;
  animation: fadeUp 0.8s ease-out 0.5s forwards;
}

.hero__content::before,
.hero__content::after {
  content: "";
  display: block;
  height: 3px;
  margin: 1rem auto;
  background: white;
  border-radius: 2px;
  width: 0;
  opacity: 0;
  animation: expandWidth 1s ease-out 0.7s forwards;
}

.hero__content::before {
  width: 60%;
}
.hero__content::after {
  width: 30%;
}

/* --- Estilos Específicos para la Página de Inicio (Home.js) --- */
.home-page {
  display: flex;
  flex-direction: column;
  height: calc(91vh - 80px);
}

.home-page .main-content-area {
  padding: 0;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.actions-section {
  background-color: var(--color-superficie);
  padding: var(--espaciado-xl) var(--espaciado-lg);
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--espaciado-lg);
  flex-wrap: nowrap;       /* no permitir salto a la siguiente línea */
  overflow-x: auto;       /* si no caben, permitir scroll horizontal */
  -webkit-overflow-scrolling: touch;
  flex-grow: 1;
}

/* --- Estilos Específicos para la Página de Configuración --- */
.config-page {
  display: flex;
  padding: 0;
}

.config-sidebar {
  width: 320px;
  flex-shrink: 0;
  background-color: var(--color-superficie);
  border-right: 1px solid var(--color-borde);
  min-height: calc(91vh - 80px);
}

.config-main-content {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}

.content-wrapper {
  animation: fadeUp 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.content-wrapper--plain {
  background: none;
  border: none;
  box-shadow: none;
  padding: 0;
}

.config-main-content .hero {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.config-main-content .hero__content::before {
  width: 80%;
}
.config-main-content .hero__content::after {
  width: 50%;
}

/* --- Estilos para el menú de acordeón en Configuración --- */
.config-menu-item {
  border-bottom: 1px solid var(--color-borde);
}

.config-menu-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: var(--espaciado-md) var(--espaciado-lg);
  background: none;
  border: none;
  cursor: pointer;
  text-align: left;
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-texto-secundario);
  transition: var(--transicion-rapida);
}

.config-menu-header:hover {
  background-color: var(--color-primario);
  color: var(--color-superficie);
}

.config-menu-item.module-active .config-menu-header {
  background-color: var(--color-primario);
  color: var(--color-superficie);
}

.config-menu-arrow {
  transition: transform 0.3s ease;
}

.config-menu-arrow.open {
  transform: rotate(180deg);
}

.config-submenu {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease-in-out;
}

.config-submenu.open {
  max-height: 500px;
}

.config-submenu-link {
  display: block;
  padding: var(--espaciado-sm) var(--espaciado-lg) var(--espaciado-sm) 3rem;
  color: var(--color-primario);
  text-decoration: none;
  transition: var(--transicion-rapida);
}

.config-submenu-link:hover,
.config-submenu-link.active {
  background-color: #e6f2ef;
  color: var(--color-primario-hover);
  font-weight: 700;
}

/* --- Estilos para el Editor Masivo --- */
.editor-masivo-container {
  padding: var(--espaciado-xl);
}

.resultados-editor {
  margin-top: var(--espaciado-xl);
  background-color: var(--color-superficie);
  border-radius: var(--radio-borde);
  padding: var(--espaciado-xl);
  box-shadow: var(--sombra-caja);
  border: 1px solid var(--color-borde);
}

.editor-top-actions {
  display: flex;
  justify-content: flex-start; /* Alinea los botones a la izquierda */
  gap: var(--espaciado-md);
  margin-bottom: var(--espaciado-xl);
}

.editor-panel {
  background-color: var(--color-fondo);
  border: 1px solid var(--color-borde);
  border-radius: var(--radio-borde);
  padding: var(--espaciado-lg);
  margin-bottom: var(--espaciado-xl);
  display: flex;
  flex-direction: column;
  gap: var(--espaciado-lg);
}

.editor-panel__actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--espaciado-md);
  padding-top: var(--espaciado-lg);
  border-top: 1px solid var(--color-borde);
}

.bulk-edit-controls {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: var(--espaciado-lg);
}

.bulk-edit-field {
  display: flex;
  align-items: center;
  gap: var(--espaciado-md);
}

.bulk-edit-field .btn--apply-bulk {
  padding: 8px 16px;
  font-size: 0.9rem;
  background-color: var(--color-secundario);
  color: var(--color-superficie);
  flex-shrink: 0;
}

.bulk-edit-field .btn--apply-bulk:hover {
  background-color: #003355;
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.selector-columnas-container .custom-select {
  min-width: 220px;
}

.selector-columnas-container .disabled-option {
  color: #9ca3af;
  cursor: not-allowed;
  background-color: #f8fafc;
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes expandWidth {
  from {
    width: 0;
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* =====> ACTIVADOR DE ANIMACIÓN PARA LOS BOTONES <===== */
.home-page.loaded .action-button {
  opacity: 1;
  transform: translateY(0);
}

/* Clase para aplicar la tipografía Audiowide (usar desde el HTML/JS con class="audiowide-regular") */
.audiowide-regular {
  font-family: "Audiowide", sans-serif;
  font-weight: 400;
  font-style: normal;
  /* Ajustes opcionales para que combine con hero__title */
  letter-spacing: 0.02em;
  line-height: 1;
}
/* Aplicar Audiowide también al subtítulo cuando se le asigne la clase */
.hero__subtitle.audiowide-regular {
  font-family: "Audiowide", sans-serif;
  font-weight: 400;
  font-style: normal;
  letter-spacing: 0.01em;
  line-height: 1.05;
}

/* Estilos compartidos para checkboxes del filtro y los checkboxes de la tabla */
.custom-select__option input[type="checkbox"],
.filter-checkbox {
  width: 18px;
  height: 18px;
  margin: 0 0.6rem 0 0;
  vertical-align: middle;
  cursor: pointer;
  border-radius: 4px;
  /* color del check/indicador en navegadores modernos */
  accent-color: var(--color-primario);
  /* fallback visual para navegadores sin accent-color */
  background-color: #fff;
  border: 1px solid var(--color-borde);
  box-shadow: inset 0 0 0 0 rgba(0,0,0,0.05);
  transition: background-color 0.12s ease, border-color 0.12s ease, transform 0.06s ease;
}

/* Cuando esté checked, reforzamos fondo y borde para que destaque */
.custom-select__option input[type="checkbox"]:checked,
.filter-checkbox:checked {
  background-color: var(--color-primario);
  border-color: var(--color-primario);
  color: #fff;
}

/* Hover/Focus states */
.custom-select__option input[type="checkbox"]:hover,
.filter-checkbox:hover,
.custom-select__option input[type="checkbox"]:focus,
.filter-checkbox:focus {
  transform: translateY(-1px);
  outline: none;
  border-color: var(--color-primario-hover);
}

/* Alineación en tablas: asegurar espaciado correcto */
.table input.filter-checkbox {
  margin: 0;
}

/* Ajustes: campos más anchos y letra más pequeña para formularios y tablas */

/* Reduce ligeramente la tipografía base de campos y etiquetas de formulario */
.form__label {
  font-size: 0.88rem; /* antes ~1rem */
  font-weight: 600;
  line-height: 1.1;
}

/* Entradas y triggers ocupan todo el ancho de su contenedor y fuente reducida */
.form__input,
.custom-select__trigger {
  width: 100%;
  font-size: 0.88rem;
  padding: 8px 10px;
  box-sizing: border-box;
}

/* Asegurar que los triggers de custom-select se comporten como inputs de ancho completo */
.custom-select {
  min-width: 0; /* permitir que el contenedor se reduzca si es necesario; los triggers llenarán su celda */
}
.custom-select .custom-select__trigger {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Formularios grid: cada grupo ocupará su celda, inputs llenarán esa celda */
.form__group {
  width: 100%;
}

/* Si hay forms con clase grid-form, forzar inputs a ocupar 100% de la celda */
.grid-form .form__group .form__input {
  width: 100%;
}

/* Scoped table styles: aplicar únicamente a la tabla dentro de resultados-editor */
.resultados-editor .table th,
.resultados-editor .table td {
  font-size: 0.82rem; /* bajado desde 0.85rem */
  padding: 6px 10px;
  text-align: center;
  vertical-align: middle;
}

/* Aumentar ancho de columnas de datos en la tabla de resultados (scope) */
.resultados-editor .table {
  width: 100%;
  table-layout: auto;
  border-collapse: collapse;
}

/* checkbox (col 1) y índice (col 2) compactos (scope) */
.resultados-editor .table th:nth-child(1),
.resultados-editor .table td:nth-child(1),
.resultados-editor .table th:nth-child(2),
.resultados-editor .table td:nth-child(2) {
  white-space: nowrap;
  width: 48px;
  min-width: 60px;
  max-width: 70px;
  text-align: center;
}

/* Todas las columnas de datos (a partir de la 3) más anchas (scope) */
.resultados-editor .table th:nth-child(n+3),
.resultados-editor .table td:nth-child(n+3) {
  min-width: 160px;
  max-width: 420px;
  word-break: break-word;
}

/* Columna "Link" (última columna) y su botón (scope) */
.resultados-editor .table th:nth-child(20),
.resultados-editor .table td:nth-child(20) {
  min-width: 80px;
  max-width: 140px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}
.resultados-editor .table td:nth-child(20) .btn-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 4px;
  margin: 0 auto;
  border-radius: 50%;
  transition: background-color 0.12s ease, transform 0.08s ease;
  background: transparent;
  border: none;
  cursor: pointer;
}
.resultados-editor .table td:nth-child(20) .btn-icon svg,
.resultados-editor .table td:nth-child(20) .btn-icon i {
  width: 18px;
  height: 18px;
  display: block;
}
.resultados-editor .table td:nth-child(20) .btn-icon:hover {
  background: var(--color-primario);
  transform: translateY(-1px);
}
.resultados-editor .table td:nth-child(20) .btn-icon:hover svg,
.resultados-editor .table td:nth-child(20) .btn-icon:hover i {
  color: #fff;
}

/* VLANs y columnas específicas (scope) */
.resultados-editor .table th:nth-child(6),
.resultados-editor .table td:nth-child(6),
.resultados-editor .table th:nth-child(8),
.resultados-editor .table td:nth-child(8) {
  min-width: 90px;
  max-width: 130px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}

/* Columna "Estatus" y "Tipo" (scope) */
.resultados-editor .table th:nth-child(18),
.resultados-editor .table td:nth-child(18) {
  min-width: 100px;
  max-width: 160px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}
.resultados-editor .table th:nth-child(4),
.resultados-editor .table td:nth-child(4) {
  min-width: 80px;
  max-width: 110px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}

/* Si la tabla es más ancha que su contenedor, permitir scroll horizontal (scope) */
.resultados-editor .table-container {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* Ajustes responsivos (scope) */
@media (max-width: 800px) {
  .resultados-editor .table th:nth-child(n+3),
  .resultados-editor .table td:nth-child(n+3) {
    min-width: 120px;
  }
  .resultados-editor .table th:nth-child(6),
  .resultados-editor .table td:nth-child(6),
  .resultados-editor .table th:nth-child(8),
  .resultados-editor .table td:nth-child(8) {
    min-width: 70px;
    max-width: 120px;
  }
  .resultados-editor .table th:nth-child(18),
  .resultados-editor .table td:nth-child(18) {
    min-width: 90px;
  }
  .resultados-editor .table th:nth-child(4),
  .resultados-editor .table td:nth-child(4) {
    min-width: 70px;
  }
}

/* Mantener centrado únicamente del header de resultados (no afecta filtros) */
.resultados-header {
  display: flex;
  flex-direction: column;
  align-items: flex-start; /* mover a la izquierda */
  justify-content: center;
  gap: 0.4rem;
  text-align: left;        /* texto alineado a la izquierda */
  width: 100%;
}

/* Asegurar que el título ocupe el ancho disponible y no esté centrado por otras reglas */
.resultados-header .resultados-titulo {
  width: 100%;
  margin: 0;
  padding: 0;
  text-align: left;
}

/* Columna "Tipo" (nth-child(4)): más compacta y con truncado */
.table th:nth-child(4),
.table td:nth-child(4) {
  min-width: 80px;
  max-width: 110px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}

@media (max-width: 800px) {
  .table th:nth-child(4),
  .table td:nth-child(4) {
    min-width: 70px;
  }
}

/* Columna "VLAN MGMT" (nth-child(6)): más compacta y con truncado */
.table th:nth-child(6),
.table td:nth-child(6) {
  min-width: 90px;
  max-width: 130px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}

/* Columna "VLAN REAL" (nth-child(8)): más compacta y con truncado */
.table th:nth-child(8),
.table td:nth-child(8) {
  min-width: 90px;
  max-width: 130px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  vertical-align: middle;
}

/* Ajustes responsivos para VLANs en pantallas pequeñas */
@media (max-width: 800px) {
  .table th:nth-child(6),
  .table td:nth-child(6),
  .table th:nth-child(8),
  .table td:nth-child(8) {
    min-width: 70px;
    max-width: 120px;
  }
}

/* Estilos para el área de paginación y contador de servidores */
.pagination-controls {
  display: grid;
  grid-template-columns: auto 1fr auto; /* izquierda (selector + descarga), centro (contador), derecha (navegación) */
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

/* Alinear el bloque izquierdo al inicio y el derecho al final */
.pagination-controls > .pagination__items-per-page {
  justify-self: start;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.pagination-controls > .pagination__navigation {
  justify-self: end;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

/* Centrar el contador en la columna central y usar azul */
.pagination-controls > .servers-found--center {
  justify-self: center;
  text-align: center;
  color: var(--color-secundario); /* cambiado a azul */
  font-weight: 700;
}

/* Responsivo: en pantallas pequeñas apilar en 2 filas manteniendo el contador centrado */
@media (max-width: 700px) {
  .pagination-controls {
    grid-template-columns: 1fr;
    grid-auto-rows: auto;
    row-gap: 0.5rem;
  }
  .pagination-controls > .pagination__items-per-page,
  .pagination-controls > .pagination__navigation {
    justify-self: center;
  }
  .pagination-controls > .servers-found--center {
    justify-self: center;
  }
}

/* ----- Scoped styles: FILTER FORM (alineado a la izquierda) ----- */

.filter-form .form__group {
  align-items: flex-start; /* etiquetas a la izquierda dentro del grid */
}
.filter-form .form__label {
  text-align: left;
  width: 100%;
  display: block;
}
.filter-form .form__input,
.filter-form .custom-select__trigger {
  text-align: left;         /* valor y placeholder alineados a la izquierda */
  justify-content: flex-start; /* icon + texto en trigger alineado a la izquierda */
  gap: 0.5rem;
}
.filter-form .custom-select__trigger span {
  display: inline-block;
}
.filter-form .custom-select__panel .custom-select__option {
  text-align: left; /* mantener opciones del panel a la izquierda */
}

/* ----- Scoped styles: RESULTADOS (EditorMasivo) — centrado ----- */
.resultados-editor .form__group {
  align-items: center;
}
.resultados-editor .form__label {
  text-align: center;
  width: 100%;
  display: block;
}
.resultados-editor .form__input,
.resultados-editor .custom-select__trigger {
  text-align: center;       /* centrar el texto dentro de inputs / triggers */
  justify-content: center;  /* centrar icon + texto en trigger */
  gap: 0.5rem;
}
.resultados-editor .custom-select__trigger span {
  display: inline-block;
}

/* Mantener las opciones del panel legibles: no forzarles centrado para checkbox/radio */
.resultados-editor .custom-select__panel .custom-select__option {
  text-align: left; /* opciones internas siguen alineadas a la izquierda */
}

/* Si hay triggers dentro de la tabla-container (ej. bulk edit), aseguramos centrado visual */
.resultados-editor .bulk-edit-field,
.resultados-editor .pagination__items-per-page {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;
}

/* Asegurar anchos uniformes para los campos del formulario de filtros */
.filter-form .form__grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: var(--espaciado-md);
  align-items: start;
}

/* Cada grupo del filtro tendrá un ancho mínimo consistente */
.filter-form .form__group {
  min-width: 220px;
}

/* Forzar inputs/triggers del filtro a ocupar todo el ancho de su celda y alinearse a la izquierda */
.filter-form .form__input,
.filter-form .custom-select__trigger {
  width: 100%;
  box-sizing: border-box;
  text-align: left;
  justify-content: flex-start;
  gap: 0.5rem;
}

/* Asegurar que los panels de opciones mantengan su alineación natural */
.filter-form .custom-select__panel .custom-select__option {
  text-align: left;
}

/* Pequeña mejora responsiva para móviles */
@media (max-width: 560px) {
  .filter-form .form__grid {
    grid-template-columns: 1fr;
    gap: var(--espaciado-sm);
  }
  .filter-form .form__group {
    min-width: 0;
  }
}

/* Hacer que los dropdowns del formulario de filtros ocupen el mismo ancho que los inputs */
.filter-form .custom-select {
  width: 100%;
  min-width: 0;          /* permitir que respeten la rejilla del filtro */
  position: relative;    /* necesario para posicionar el panel absoluto */
  box-sizing: border-box;
}

.filter-form .custom-select .custom-select__trigger {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-start; /* texto a la izquierda igual que los inputs */
  gap: 0.5rem;
  padding: 8px 10px;
  box-sizing: border-box;
}

/* El panel del dropdown se expande al ancho del trigger y queda superpuesto (no rompe layout) */
.filter-form .custom-select__panel {
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  width: 100%;
  max-height: 320px;
  overflow: auto;
  background: var(--color-superficie);
  border: 1px solid var(--color-borde);
  border-radius: 8px;
  box-shadow: var(--sombra-caja);
  z-index: 1200;
  box-sizing: border-box;
  padding: 0.25rem 0;
}

.filter-form .custom-select__option {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  padding: 0.45rem 0.75rem;
  white-space: nowrap;
  cursor: pointer;
}

.filter-form .custom-select__option input[type="checkbox"],
.filter-form .custom-select__option input[type="radio"] {
  margin: 0;
  flex: 0 0 auto;
}

/* Mover la chevron al extremo derecho dentro del trigger sin afectar otros scopes */
.filter-form .custom-select__trigger .chevron {
  margin-left: auto;
}

/* Asegurar que los campos seleccionables del filtro estén a la IZQUIERDA y no afecten a resultados-editor */
/* Estas reglas están al final para garantizar prioridad sobre reglas anteriores (sin usar !important) */

.filter-form .form__group { 
  align-items: flex-start; /* etiquetas e inputs alineados al inicio de la celda */
}

/* Labels del filtro a la izquierda */
.filter-form .form__label {
  text-align: left;
  display: block;
  width: 100%;
}

/* Triggers (dropdowns) y inputs del filtro ocupan todo el ancho y texto alineado a la izquierda */
.filter-form .custom-select,
.filter-form .form__input,
.filter-form .custom-select__trigger {
  width: 100%;
  box-sizing: border-box;
  text-align: left;
  justify-content: flex-start;
  gap: 0.5rem;
}

/* Asegurar que el span dentro del trigger muestre el texto a la izquierda */
.filter-form .custom-select__trigger > span {
  display: inline-block;
  text-align: left;
}

/* Panel del dropdown: se superpone y toma el ancho del trigger (no afecta el layout) */
.filter-form .custom-select {
  position: relative;
}
.filter-form .custom-select__panel {
  position: absolute;
  left: 0;
  top: calc(100% + 6px);
  width: 100%;
  box-sizing: border-box;
  z-index: 1300;
}

/* Mantener chevron a la derecha dentro del trigger */
.filter-form .custom-select__trigger .chevron {
  margin-left: auto;
}

/* Reafirmar centrado en resultados-editor (no tocar) para evitar conflictos: */
.resultados-editor .form__input,
.resultados-editor .custom-select__trigger {
  text-align: center;
  justify-content: center;
}

/* Reducir tamaño de los checkboxes SOLO en el formulario de filtros (no afecta .filter-checkbox de la tabla) */
.filter-form input[type="checkbox"]:not(.filter-checkbox),
.filter-form .custom-select__option input[type="checkbox"] {
  width: 14px;
  height: 14px;
  margin: 0 0.45rem 0 0; /* espacio a la derecha ligeramente menor */
  vertical-align: middle;
  cursor: pointer;
  border-radius: 3px;
}

/* Asegurar que la etiqueta que envuelve el checkbox en el filtro mantenga align y no se descuadre */
.filter-form .custom-select__option {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Checkbox "Coincidencia exacta" (fuera de panels) también reducido y alineado */
.filter-form #busqueda-exacta {
  width: 14px;
  height: 14px;
  margin-right: 0.5rem;
  vertical-align: middle;
}

/* Igualar altura de triggers (dropdowns) y inputs dentro del formulario de filtros
   y mantenerlos alineados a la izquierda. Scoped a .filter-form para no afectar EditorMasivo. */
.filter-form .form__input,
.filter-form .custom-select__trigger {
  /* Mismo alto visual que los inputs: ajusta 40px si quieres más/menos */
  min-height: 40px;
  height: 40px;
  padding: 8px 10px;
  box-sizing: border-box;
  display: flex;
  align-items: center; /* centrar verticalmente el texto y chevron */
  justify-content: flex-start;
  gap: 0.5rem;
}

/* Garantizar que el texto del trigger use todo el espacio disponible y trunque correctamente */
.filter-form .custom-select__trigger > span {
  flex: 1 1 auto;
  display: inline-block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  text-align: left;
}

/* Mantener la chevron centrada verticalmente y al final */
.filter-form .custom-select__trigger .chevron {
  align-self: center;
  margin-left: 0.5rem;
}

/* Asegurar paneles superpuestos no alteren el flujo */
.filter-form .custom-select {
  position: relative;
}

/* Encabezados de la tabla de RESULTADOS: aumentar altura y usar color AZUL (scope .resultados-editor) */
.resultados-editor .table thead th {
  padding: 18px 12px;
  min-height: 72px;
  line-height: 1.25;
  font-weight: 700;
  color: var(--color-secundario); /* cambiado a azul */
  background: transparent;
  vertical-align: middle;
  white-space: normal;
}

/* Restaurar encabezados de resultados a VERDE (variable --color-primario) */
.resultados-editor .table thead th {
  color: var(--color-primario);
}
.resultados-editor .table thead th svg,
.resultados-editor .table thead th i {
  color: var(--color-primario);
  fill: currentColor;
}

/* Ajuste responsivo para dispositivos pequeños */
@media (max-width: 800px) {
  .resultados-editor .table thead th {
    padding: 14px 8px;
    min-height: 60px;
  }
}

/* Mostrar contenido completo en la tabla de RESULTADOS: quitar truncado/ellipsis */
.resultados-editor .table th,
.resultados-editor .table td {
  white-space: normal !important;   /* permitir varias líneas */
  overflow: visible !important;     /* no ocultar contenido */
  text-overflow: clip !important;   /* no usar "..." */
  word-break: break-word !important;/* romper palabras largas si es necesario */
}

/* Anular reglas específicas que forzaban nowrap/ellipsis en columnas concretas */
.resultados-editor .table th:nth-child(20),
.resultados-editor .table td:nth-child(20),
.resultados-editor .table th:nth-child(6),
.resultados-editor .table td:nth-child(6),
.resultados-editor .table th:nth-child(8),
.resultados-editor .table td:nth-child(8),
.resultados-editor .table th:nth-child(18),
.resultados-editor .table td:nth-child(18),
.resultados-editor .table th:nth-child(4),
.resultados-editor .table td:nth-child(4),
.resultados-editor .table th:nth-child(n+3),
.resultados-editor .table td:nth-child(n+3) {
  white-space: normal !important;
  overflow: visible !important;
  text-overflow: clip !important;
  word-break: break-word !important;
}

/* Si deseas que ciertos botones/íconos sigan centrados, mantenemos sus estilos de layout,
   pero permitimos al texto escalar verticalmente. */
.resultados-editor .table td .btn-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Ajustes responsivos: mantener wrapping en pantallas pequeñas */
@media (max-width: 800px) {
  .resultados-editor .table th,
  .resultados-editor .table td {
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
  }
}

/* Hacer la columna "Nombre" (segunda columna) más ancha y permitir wrapping */
.resultados-editor .table th:nth-child(2),
.resultados-editor .table td:nth-child(2) {
  min-width: 105px;      /* reducido desde 220px */
  max-width: 360px;      /* reducido desde 500px */
  width: 22%;            /* reducido desde 28% */
  text-align: left;
  white-space: normal !important;
  overflow: visible !important;
  word-break: break-word !important;
}

/* Ajuste responsivo: menor ancho en pantallas pequeñas */
@media (max-width: 800px) {
  .resultados-editor .table th:nth-child(2),
  .resultados-editor .table td:nth-child(2) {
    min-width: 120px;    /* reducido desde 150px */
    max-width: 100%;
    width: auto;
  }
}

/* Reducir ancho de la columna "Tipo" (tercera columna: #, Nombre, Tipo) */
.resultados-editor .table th:nth-child(3),
.resultados-editor .table td:nth-child(3) {
  min-width: 70px;    /* ancho mínimo más pequeño */
  max-width: 110px;   /* ancho máximo reducido */
  width: 10%;         /* ocupar poca proporción del ancho total */
  text-align: center; /* mantener centrado */
  white-space: normal !important;
  overflow: visible !important;
  word-break: break-word !important;
}

/* Ajuste responsivo: asegurar legibilidad en móviles */
@media (max-width: 800px) {
  .resultados-editor .table th:nth-child(3),
  .resultados-editor .table td:nth-child(3) {
    min-width: 60px;
    max-width: 120px;
    width: auto;
  }
}

/* Ajuste: reducir anchura de las columnas de IP (IP MGMT nth-child(4), IP Real nth-child(6), IP Mask/25 nth-child(8)) */
.resultados-editor .table th:nth-child(4),
.resultados-editor .table td:nth-child(4),
.resultados-editor .table th:nth-child(6),
.resultados-editor .table td:nth-child(6),
.resultados-editor .table th:nth-child(8),
.resultados-editor .table td:nth-child(8) {
  min-width: 180px !important;   /* reducido desde 220px */
  max-width: 320px !important;   /* reducido desde 420px */
  width: 12% !important;         /* reducido desde 14% */
  text-align: center !important;
  white-space: normal !important;
  overflow: visible !important;
  word-break: break-word !important;
}

/* Responsivo: mantener menor ancho en móviles */
@media (max-width: 800px) {
  .resultados-editor .table th:nth-child(4),
  .resultados-editor .table td:nth-child(4),
  .resultados-editor .table th:nth-child(6),
  .resultados-editor .table td:nth-child(6),
  .resultados-editor .table th:nth-child(8),
  .resultados-editor .table td:nth-child(8) {
    min-width: 100px !important;  /* reducido desde 120px */
    max-width: 200px !important;  /* reducido desde 240px */
    width: auto !important;
    text-align: center !important;
  }
}

/* OVERRIDE FINAL: permitir que las VLANs se muestren en varias líneas sin cortar palabras.
   Preferir salto en espacios; solo romper palabras largas si es necesario para evitar overflow. */
.resultados-editor .table th:nth-child(5),
.resultados-editor .table td:nth-child(5),
.resultados-editor .table th:nth-child(6),
.resultados-editor .table td:nth-child(6),
.resultados-editor .table th:nth-child(7),
.resultados-editor .table td:nth-child(7),
.resultados-editor .table th:nth-child(8),
.resultados-editor .table td:nth-child(8) {
  min-width: 50px !important;
  max-width: 120px !important;       /* permitir algo más de ancho pero controlado */
  width: auto !important;
  text-align: center !important;

  /* Allow wrapping at word boundaries (spaces) and avoid breaking words unnecessarily */
  white-space: normal !important;
  word-break: normal !important;           /* don't break words arbitrarily */
  overflow-wrap: break-word !important;    /* only break long words if necessary to avoid overflow */

  /* Mostrar todo el contenido en varias líneas si hace falta */
  overflow: visible !important;
  text-overflow: clip !important;
}

/* Ajuste responsivo: mantener comportamiento de wrapping en móviles */
@media (max-width: 800px) {
  .resultados-editor .table th:nth-child(5),
  .resultados-editor .table td:nth-child(5),
  .resultados-editor .table th:nth-child(6),
  .resultados-editor .table td:nth-child(6),
  .resultados-editor .table th:nth-child(7),
  .resultados-editor .table td:nth-child(7),
  .resultados-editor .table th:nth-child(8),
  .resultados-editor .table td:nth-child(8) {
    min-width: 40px !important;
    max-width: 100px !important;
    width: auto !important;
    white-space: normal !important;
    word-break: normal !important;
    overflow-wrap: break-word !important;
    overflow: visible !important;
    text-overflow: clip !important;
  }
}

/* Scoped override: alinear los checkboxes y opciones a la izquierda DENTRO del panel de edición
   Esto afecta sólo a la UI que aparece al pulsar "Editar" en Resultados, sin modificar el resto. */
.resultados-editor .editor-panel .bulk-edit-field,
.resultados-editor .editor-panel .selector-columnas-container,
.resultados-editor .editor-panel .custom-select,
.resultados-editor .editor-panel .custom-select__panel {
  justify-content: flex-start !important;  /* forzar alineación izquierda del layout flex */
  text-align: left !important;             /* asegurar texto a la izquierda dentro del scope */
}

/* Asegurar que cada opción muestre checkbox + label alineados a la izquierda */
.resultados-editor .editor-panel .custom-select__panel .custom-select__option,
.resultados-editor .editor-panel .custom-select__option {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: 0.6rem !important;
  white-space: normal !important;
  padding-left: 0.25rem !important;
}

/* Mantener tamaño y espaciado correcto del checkbox dentro del panel de edición */
.resultados-editor .editor-panel .custom-select__option input[type="checkbox"],
.resultados-editor .editor-panel .custom-select__panel input[type="checkbox"] {
  width: 18px !important;
  height: 18px !important;
  margin: 0 0.5rem 0 0 !important;
  flex: 0 0 auto !important;
}

/* Si hay campos con label + checkbox dentro de bulk-edit-field, no centrar el grupo */
.resultados-editor .editor-panel .bulk-edit-field {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: var(--espaciado-md) !important;
}

/* Mantener los triggers y panels del selector de columnas comportándose (pero alineados a la izquierda en el editor) */
.resultados-editor .editor-panel .selector-columnas-container .custom-select__trigger,
.resultados-editor .editor-panel .selector-columnas-container .custom-select__panel {
  text-align: left !important;
}

/* FORCE: Alinear TODO lo relacionado con edición (panel) a la IZQUIERDA.
   Esto se aplica sólo dentro de .resultados-editor .editor-panel para no afectar otras áreas. */
.resultados-editor .editor-panel {
  display: flex;
  flex-direction: column;
  align-items: flex-start !important;   /* forzar alineación izquierda del contenedor */
  text-align: left !important;
  gap: var(--espaciado-lg) !important;
}

/* Selector "Columnas a editar" y su trigger: texto y opciones a la izquierda */
.resultados-editor .editor-panel .selector-columnas-container,
.resultados-editor .editor-panel .selector-columnas-container .custom-select {
  width: 100%;
  align-self: stretch;
  justify-content: flex-start !important;
  text-align: left !important;
}

.resultados-editor .editor-panel .selector-columnas-container .custom-select__trigger {
  justify-content: flex-start !important;
  text-align: left !important;
  padding-left: 0.5rem !important;
}

/* Alinear las opciones del panel (checkbox + label) a la izquierda */
.resultados-editor .editor-panel .selector-columnas-container .custom-select__panel .custom-select__option,
.resultados-editor .editor-panel .custom-select__panel .custom-select__option {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: 0.5rem !important;
  padding: 0.4rem 0.5rem !important;
}

/* Bulk edit: forzar que los campos y botones estén alineados a la izquierda */
.resultados-editor .editor-panel .bulk-edit-controls {
  width: 100%;
  align-self: stretch;
  justify-items: start !important;
}

.resultados-editor .editor-panel .bulk-edit-field {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: var(--espaciado-md) !important;
  width: 100%;
}

/* Asegurar inputs/triggers dentro del bulk-edit ocupen el espacio y el texto quede a la izquierda */
.resultados-editor .editor-panel .bulk-edit-field .form__input,
.resultados-editor .editor-panel .bulk-edit-field .custom-select__trigger {
  width: auto;
  min-width: 160px;
  flex: 1 1 auto;
  text-align: left !important;
  justify-content: flex-start !important;
}

/* Botones de acciones del editor también a la izquierda (si se desea) */
.resultados-editor .editor-panel .editor-panel__actions {
  width: 100%;
  display: flex !important;
  justify-content: flex-start !important; /* mover botones a la izquierda */
  gap: var(--espaciado-md) !important;
  padding-top: var(--espaciado-sm) !important;
}

/* Asegurar tamaño y posicionamiento correcto de checkboxes dentro del panel de edición */
.resultados-editor .editor-panel input[type="checkbox"],
.resultados-editor .editor-panel input[type="radio"] {
  margin-right: 0.5rem !important;
  margin-left: 0 !important;
  width: 18px !important;
  height: 18px !important;
}

/* Mantener paneles desplegables encima del layout y alineados al trigger */
.resultados-editor .editor-panel .custom-select__panel {
  left: 0 !important;
  right: auto !important;
  width: auto !important;
  min-width: 220px !important;
}

/* REEMPLAZAR: evitar que los radios entren en la regla de width:100% para triggers/inputs */
/* Antes: .form__input, .custom-select__trigger, .custom-select__panel .custom-select__option input[type="radio"], .custom-select__panel .custom-select__option input[type="checkbox"] { ... } */

/* NUEVO: radios en panels y select options — tamaño pequeño, margen y comportamiento consistente */
.custom-select__panel .custom-select__option input[type="radio"],
.selector-columnas-container .custom-select__panel .custom-select__option input[type="radio"],
.resultados-editor .custom-select__panel .custom-select__option input[type="radio"] {
  width: 14px;
  height: 14px;
  margin: 0 0.5rem 0 0;
  vertical-align: middle;
  cursor: pointer;
  flex: 0 0 auto;
  /* evitar herencias inesperadas */
  padding: 0;
  box-sizing: border-box;
}

/* OVERRIDE: radios dentro del panel de edición deben ser pequeños también */
.resultados-editor .editor-panel input[type="radio"] {
  width: 14px !important;
  height: 14px !important;
  margin-right: 0.5rem !important;
  margin-left: 0 !important;
}

/* Botón "Aplicar Cambios" - forzar estilo primario (AZUL) dentro del panel de edición */
.resultados-editor .editor-panel .btn--apply-all {
  background-color: var(--color-secundario); /* azul */
  color: #fff;
  border: 1px solid rgba(0,0,0,0.06);
  padding: 8px 14px;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.12s ease, transform 0.08s ease;
}

.resultados-editor .editor-panel .btn--apply-all:hover:not(:disabled) {
  background-color: #003355;
  transform: translateY(-1px);
}

.resultados-editor .editor-panel .btn--apply-all:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

/* Asegurar que el label del selector de columnas en el editor esté a la izquierda */
.resultados-editor .editor-panel .selector-columnas-container .form__label {
  text-align: left !important;
  width: 100%;
  display: block;
  align-self: flex-start;
  margin-bottom: 0.5rem; /* pequeño espacio entre "Columnas a editar:" y el input/select */
}

/* Opcional: si el icon está dentro del label, mantenerlo alineado con el texto */
.resultados-editor .editor-panel .selector-columnas-container .form__label svg,
.resultados-editor .editor-panel .selector-columnas-container .form__label i {
  margin-right: 0.5rem;
  vertical-align: middle;
}

/* Hacer el selector de columnas menos ancho dentro del panel de edición */
.resultados-editor .editor-panel .selector-columnas-container .custom-select {
  width: auto !important;        /* no forzar 100% del contenedor */
  max-width: 220px !important;   /* menos ancho (ajustado desde 300px) */
  min-width: 120px !important;   /* mantener mínimo razonable para legibilidad */
}

/* Asegurar que el trigger use el ancho disponible del custom-select (hasta max-width) */
.resultados-editor .editor-panel .selector-columnas-container .custom-select__trigger {
  width: 100% !important;
  box-sizing: border-box;
}

/* Posicionar la chevron del selector "Columnas a editar" más a la derecha sin tocar el campo
   y aplicar la animación de rotación (igual que en BusquedaFiltro) */
.resultados-editor .editor-panel .selector-columnas-container .custom-select__trigger {
  position: relative !important; /* permitir posicionamiento absoluto del icono */
}

/* Estilo base para la chevron (triángulo simple hecho con borders) */
.resultados-editor .editor-panel .selector-columnas-container .custom-select__trigger .chevron {
  position: absolute !important;
  right: 12px !important;               /* pequeño ajuste para centrar con nuevo grosor */
  top: 50% !important;
  width: 8px;                            /* mantiene tamaño compacto */
  height: 8px;
  box-sizing: border-box;
  /* menos grueso y color gris */
  border-right: 1.6px solid #6b7280;     /* antes 2.8px solid currentColor */
  border-bottom: 1.6px solid #6b7280;    /* antes 2.8px solid currentColor */
  transform: translateY(-50%) rotate(45deg) !important; /* estado cerrado */
  transform-origin: center;
  transition: transform 0.18s ease, opacity 0.10s ease;
  margin-left: 0 !important;
  opacity: 0.95;
}

/* Estado "open" — misma animación (rotación) que en BusquedaFiltro */
.resultados-editor .editor-panel .selector-columnas-container .custom-select__trigger .chevron.open {
  transform: translateY(-50%) rotate(-135deg) !important;
}

/* Correcciones específicas para SelectorColumnasEditables:
   - colocar label encima del trigger
   - evitar overlapping mediante margin/padding y z-index controlado
*/
.selector-columnas-container {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 0.35rem;
  width: 100%;
  box-sizing: border-box;
}

/* Label claramente separado, en bloque y encima del control */
.selector-columnas-container .form__label {
  display: block;
  margin: 0 0 0.35rem 0; /* separación clara entre label y trigger */
  padding: 0;
  width: 100%;
  text-align: left;
  z-index: 2; /* sitúa label por encima del trigger si hubiera solapamiento */
  pointer-events: auto;
}

/* Asegurar que el select/custom-trigger no se solape: ocupa 100% debajo del label */
.selector-columnas-container .custom-select {
  width: 100%;
  position: relative;
  margin-top: 0;
  z-index: 1;
  box-sizing: border-box;
}

/* Trigger con altura mínima y padding para evitar que el texto quede encima de la label */
.selector-columnas-container .custom-select__trigger,
.selector-columnas-container .form__input {
  position: relative; /* necesario para el chevron absoluto */
  min-height: 40px;
  height: auto;
  padding: 8px 12px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  box-sizing: border-box;
  width: 100%;
  background: var(--color-fondo);
}

/* Chevron posicionado respecto al trigger, sin romper el flujo ni provocar overlap */
.selector-columnas-container .custom-select__trigger .chevron {
  right: 12px !important;
  top: 50% !important;
  transform: translateY(-50%) rotate(45deg) !important;
  position: absolute !important;
  margin-left: 0 !important;
}

/* Panel del dropdown: separado del trigger (no tocar label) */
.selector-columnas-container .custom-select__panel {
  top: calc(100% + 8px) !important;
  left: 0 !important;
  right: auto !important;
  min-width: 220px !important;
  z-index: 1200 !important;
}

/* ------------------------------------------------------------------
   Mejoras visuales para paneles desplegables y opciones (listas bonitas)
   Afecta: .custom-select__panel  .custom-select__option
   Esto hará más agradable la lista que aparece al editar (doble clic).
   ------------------------------------------------------------------ */

/* Panel: contenedor elevado, con búsqueda, padding y scroll */
.custom-select__panel {
  background: linear-gradient(180deg, #ffffff, #fbfdff);
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 10px 30px rgba(2,6,23,0.08);
  border-radius: 10px;
  padding: 8px;
  max-height: 320px;
  overflow: auto;
  transition: opacity 160ms ease, transform 160ms ease;
  -webkit-overflow-scrolling: touch;
}

/* Input de búsqueda dentro del panel (si se inserta dinámicamente) */
.custom-select__panel .search-input {
  display: block;
  width: calc(100% - 16px);
  margin: 6px 8px 10px;
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid var(--color-borde);
  background: linear-gradient(180deg, #fff, #f7fbff);
  font-size: 0.92rem;
  outline: none;
  box-shadow: inset 0 1px 2px rgba(2,6,23,0.03);
}

/* Lista de items: usar grid para que cada item sea una "tarjeta" compacta */
.custom-select__panel .custom-select__option {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 8px 10px;
  margin: 6px 4px;
  border-radius: 8px;
  cursor: pointer;
  background: transparent;
  transition: background 120ms ease, transform 0.08s ease, box-shadow 120ms ease;
  border: 1px solid transparent;
}

/* Estado hover / focus: resaltar con ligero fondo y borde */
.custom-select__panel .custom-select__option:hover,
.custom-select__panel .custom-select__option:focus {
  background: linear-gradient(90deg, rgba(0,122,255,0.04), rgba(0,122,255,0.02));
  transform: translateY(-2px);
  border-color: rgba(0,122,255,0.08);
}

/* Marca visual para la opción seleccionada */
.custom-select__panel .custom-select__option.selected {
  background: linear-gradient(90deg, rgba(0,122,255,0.06), rgba(0,122,255,0.03));
  border-color: rgba(0,122,255,0.12);
  box-shadow: 0 6px 18px rgba(0,90,156,0.06);
}

/* Contenido interno del item: título y meta (version/desc) */
.custom-select__panel .custom-select__option .option-body {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.custom-select__panel .custom-select__option .option-title {
  font-weight: 700;
  color: var(--color-texto-principal);
  font-size: 0.95rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.custom-select__panel .custom-select__option .option-meta {
  font-size: 0.82rem;
  color: var(--color-texto-secundario);
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

/* Badge para versión (ej: V1.2) */
.custom-select__panel .custom-select__option .version-badge {
  background: rgba(0,122,255,0.08);
  color: #003355;
  border-radius: 999px;
  padding: 3px 8px;
  font-size: 0.78rem;
  font-weight: 700;
  border: 1px solid rgba(0,122,255,0.08);
}

/* Icono / avatar de aplicación (opcional) */
.custom-select__panel .custom-select__option .option-icon {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  background: linear-gradient(180deg, #f1f6fb, #ffffff);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--color-primario);
  font-weight: 700;
  flex: 0 0 40px;
  box-shadow: 0 4px 10px rgba(2,6,23,0.04);
}

/* Si el panel contiene checkboxes/radios, moverlos al extremo derecho (limpio) */
.custom-select__panel .custom-select__option input[type="checkbox"],
.custom-select__panel .custom-select__option input[type="radio"] {
  margin-left: auto;
  margin-right: 6px;
  flex: 0 0 auto;
}

/* Scrollbar moderno y discreto */
.custom-select__panel::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
.custom-select__panel::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #cfe8ff, #b6dbff);
  border-radius: 10px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
.custom-select__panel::-webkit-scrollbar-track {
  background: transparent;
}

/* Soporte para navegadores que no usan -webkit- */
.custom-select__panel {
  scrollbar-width: thin;
  scrollbar-color: rgba(0,122,255,0.2) transparent;
}

/* Responsive: reducir padding y tamaño en pantallas pequeñas */
@media (max-width: 520px) {
  .custom-select__panel { padding: 6px; max-height: 260px; }
  .custom-select__panel .custom-select__option { padding: 8px; margin: 6px 2px; }
  .custom-select__panel .custom-select__option .option-icon { width: 36px; height: 36px; flex: 0 0 36px; }
}

/* Pequeña utilidad: si quieres inyectar un header dentro del panel (ej: "Aplicaciones") */
.custom-select__panel .panel-header {
  font-weight: 700;
  font-size: 0.92rem;
  color: var(--color-texto-principal);
  padding: 6px 8px;
  border-bottom: 1px dashed rgba(0,0,0,0.04);
  margin-bottom: 6px;
}

/* Mejoras específicas para el dropdown que aparece al editar inline dentro de la tabla */
.resultados-editor .table .custom-select {
  position: relative; /* para anclar el panel a la celda */
  display: inline-block;
  min-width: 160px;
}

/* Panel anclado a la celda: compacto y con alta prioridad visual */
.resultados-editor .table .custom-select__panel {
  position: absolute !important;
  top: calc(100% + 6px) !important;
  left: 0 !important;
  min-width: 220px;
  max-width: 420px;
  width: max-content;
  background: linear-gradient(180deg, #ffffff, #fbfdff);
  border: 1px solid rgba(0,0,0,0.08);
  box-shadow: 0 12px 36px rgba(2,6,23,0.14);
  border-radius: 10px;
  padding: 6px;
  z-index: 1450; /* encima de la tabla y otros paneles */
  overflow: auto;
  max-height: 320px;
  -webkit-overflow-scrolling: touch;
}

/* Opciones: estilo tipo tarjeta compacta, alineadas a la izquierda para lectura rápida */
.resultados-editor .table .custom-select__option {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  padding: 8px 10px;
  margin: 4px 2px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 120ms ease, transform 0.08s ease, box-shadow 120ms ease;
  border: 1px solid transparent;
  background: transparent;
  font-size: 0.92rem;
  color: var(--color-texto-principal);
}

/* Hover / focus */
.resultados-editor .table .custom-select__option:hover,
.resultados-editor .table .custom-select__option:focus {
  background: linear-gradient(90deg, rgba(0,122,255,0.04), rgba(0,122,255,0.02));
  transform: translateY(-2px);
  border-color: rgba(0,122,255,0.08);
  box-shadow: 0 6px 18px rgba(0,90,156,0.04);
}

/* Opción seleccionada */
.resultados-editor .table .custom-select__option.selected {
  background: linear-gradient(90deg, rgba(0,122,255,0.06), rgba(0,122,255,0.03));
  border-color: rgba(0,122,255,0.12);
  box-shadow: 0 8px 24px rgba(0,90,156,0.06);
}

/* Pequeño avatar/icon a la izquierda (iniciales si no hay imagen) */
.resultados-editor .table .custom-select__option .option-icon {
  width: 36px;
  height: 36px;
  flex: 0 0 36px;
  border-radius: 6px;
  background: linear-gradient(180deg, #f2f8ff, #fff);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: var(--color-primario);
  box-shadow: 0 4px 10px rgba(2,6,23,0.04);
  font-size: 0.88rem;
}

/* Texto principal y meta (version) */
.resultados-editor .table .custom-select__option .option-body {
  display: flex;
  flex-direction: column;
  min-width: 0;
}
.resultados-editor .table .custom-select__option .option-title {
  font-weight: 700;
  font-size: 0.92rem;
  color: var(--color-texto-principal);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.resultados-editor .table .custom-select__option .option-meta {
  font-size: 0.78rem;
  color: var(--color-texto-secundario);
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

/* Badge para versión */
.resultados-editor .table .custom-select__option .version-badge {
  background: rgba(0,122,255,0.08);
  color: #003355;
  border-radius: 999px;
  padding: 2px 8px;
  font-size: 0.75rem;
  font-weight: 700;
  border: 1px solid rgba(0,122,255,0.06);
}

/* Si hay checkbox/radio dentro del panel (selecciones múltiples), colocarlos al final */
.resultados-editor .table .custom-select__option input[type="checkbox"],
.resultados-editor .table .custom-select__option input[type="radio"] {
  margin-left: auto;
  margin-right: 6px;
  flex: 0 0 auto;
}

/* Input de búsqueda interno opcional (si se inyecta) */
.resultados-editor .table .custom-select__panel .search-input {
  width: calc(100% - 12px);
  margin: 6px 6px 8px;
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid var(--color-borde);
  font-size: 0.9rem;
  background: #fff;
}

/* Scrollbar discreto dentro del panel inline */
.resultados-editor .table .custom-select__panel::-webkit-scrollbar { width: 8px; }
.resultados-editor .table .custom-select__panel::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #d6eaff, #c0e0ff);
  border-radius: 8px;
}

/* Responsivo: opciones más compactas en pantallas pequeñas */
@media (max-width: 520px) {
  .custom-select__panel { padding: 6px; max-height: 220px; }
  .custom-select__panel .custom-select__option { padding: 8px 8px; margin: 4px 2px; }
  .custom-select__panel .custom-select__option .option-icon { width: 32px; height: 32px; flex: 0 0 32px; }
}

/* Pequeña utilidad: si quieres inyectar un header dentro del panel (ej: "Aplicaciones") */
.custom-select__panel .panel-header {
  font-weight: 700;
  font-size: 0.92rem;
  color: var(--color-texto-principal);
  padding: 6px 8px;
  border-bottom: 1px dashed rgba(0,0,0,0.04);
  margin-bottom: 6px;
}
